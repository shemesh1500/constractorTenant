{"version":3,"sources":["../../../node_modules/react-motion-drawer/drawer.js","../../../node_modules/react-motion/lib/react-motion.js","../../../node_modules/react-motion/lib/Motion.js","../../../node_modules/react-motion/lib/StaggeredMotion.js","../../../node_modules/react-motion/lib/TransitionMotion.js","../../../node_modules/react-motion/lib/mergeDiff.js","../../../node_modules/react-motion/lib/spring.js","../../../node_modules/react-motion/lib/reorderKeys.js","../../../node_modules/react-hammerjs/dist/react-hammerjs.es.js","../../../node_modules/hammerjs/hammer.js","../../../node_modules/1-liners/isFunction.js","../../../node_modules/react-motion-drawer/styles.js","../../../shared/redux/mail/selector.js","../../../shared/containers/Mail/Mail.styles.js","../../../shared/components/Mail/SingleMailActions.style.js","../../../shared/components/Mail/SingleMailActions.js","../../../shared/components/Mail/SingleMail.style.js","../../../shared/components/Mail/SingleMail.js","../../../shared/components/Mail/MailList.style.js","../../../shared/components/Mail/MailList.js","../../../shared/components/Mail/MailComposeBtn.style.js","../../../shared/components/Mail/MailComposeBtn.js","../../../shared/components/Mail/MailPagination.style.js","../../../shared/components/Mail/MailPagination.js","../../../shared/containers/Mail/MailDrawer.styles.js","../../../shared/containers/Mail/TabView.js","../../../shared/components/Notification.js","../../../node_modules/react-motion/lib/stripStyle.js","../../../shared/components/Mail/MailTags.style.js","../../../shared/components/Mail/MailTags.js","../../../node_modules/react-motion/lib/mapToZero.js","../../../node_modules/react-motion/lib/stepper.js","../../../node_modules/react-motion/node_modules/performance-now/lib/performance-now.js","../../../node_modules/react-motion/lib/shouldStopAnimation.js","../../../node_modules/react-motion/lib/presets.js","../../../shared/components/Mail/ComposeAutoComplete.style.js","../../../shared/components/Mail/ComposeAutoComplete.js","../../../shared/components/Mail/ComposeMail.style.js","../../../shared/components/Mail/ComposeMail.js","../../../shared/components/Mail/MailBucket.style.js","../../../shared/components/Mail/MailBuckets.js","../../../shared/components/uielements/styles/editor.style.js","../../../shared/components/uielements/editor.js"],"names":["Object","defineProperty","exports","value","_extends","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_createClass","defineProperties","props","descriptor","enumerable","configurable","writable","Constructor","protoProps","staticProps","_react2","_interopRequireDefault","_propTypes2","_reactMotion","_reactHammerjs2","_isFunction2","_styles3","obj","__esModule","default","_possibleConstructorReturn","self","ReferenceError","bool","number","object","array","string","func","oneOfType","Drawer","_React$Component","_ref","_temp","_this","instance","TypeError","_classCallCheck","this","_len","args","Array","_key","__proto__","getPrototypeOf","apply","concat","state","currentState","isState","s","isClosed","isOpen","isOpening","isClosing","onPress","e","noTouchOpen","preventDefault","peak","onPressUp","noTouchClose","close","onPan","isFinal","pointers","direction","deltaX","inPanTolerance","open","_this$props","right","peakingWidth","width","handleWidth","calculateWidth","clientX","x","document","body","clientWidth","closingOrOpening","nextState","PEAK","IS_OPENING","IS_CLOSING","OPEN","CLOSED","setState","onOverlayTap","test","match","subClass","superClass","create","constructor","setPrototypeOf","_inherits","nextProps","nextOpen","_props","onChange","_props2","isClosingDirection","panTolerance","Math","abs","_this2","_props3","config","drawerStyle","className","overlayClassName","children","offset","_state","createElement","Motion","style","myProp","spring","min","interpolated","_styles","drawer","transform","overlay","computedStyle","display","DIRECTION_HORIZONTAL","onTap","Component","propTypes","zIndex","shape","stiffness","damping","precision","height","overlayColor","fadeOut","defaultProps","_interopRequire","_Motion","_StaggeredMotion","StaggeredMotion","_TransitionMotion","TransitionMotion","_spring","_presets","presets","_stripStyle","stripStyle","_reorderKeys","reorderKeys","_mapToZero2","_stripStyle2","_stepper4","_performanceNow2","_raf2","_shouldStopAnimation2","msPerFrame","wasAnimating","animationID","prevTime","accumulatedTime","unreadPropStyle","clearUnreadPropStyle","destStyle","dirty","currentStyle","currentVelocity","lastIdealStyle","lastIdealVelocity","styleValue","startAnimationIfNecessary","timestamp","propsStyle","onRest","currentTime","timeDelta","currentFrameCompletion","floor","framesToCatchUp","newLastIdealStyle","newLastIdealVelocity","newCurrentStyle","newCurrentVelocity","newLastIdealStyleValue","newLastIdealVelocityValue","_stepper","val","_stepper2","nextIdealX","nextIdealV","defaultState","defaultStyle","objectOf","isRequired","componentDidMount","componentWillReceiveProps","componentWillUnmount","cancel","render","renderedChildren","Children","only","module","unreadPropStyles","currentStyles","currentVelocities","lastIdealStyles","lastIdealVelocities","someDirty","destStyles","styles","shouldStopAnimationAll","newLastIdealStyles","newLastIdealVelocities","newCurrentStyles","newCurrentVelocities","j","defaultStyles","arrayOf","map","_mergeDiff2","rehydrateStyles","mergedPropsStyles","plainStyles","cUnreadPropStyles","mergedPropsStyle","data","mergeAndSync","willEnter","willLeave","didLeave","oldMergedPropsStyles","oldCurrentStyles","oldCurrentVelocities","oldLastIdealStyles","oldLastIdealVelocities","newMergedPropsStyles","oldIndex","oldMergedPropsStyle","leavingStyle","newMergedPropsStyleCell","foundOldIndex","plainStyle","velocity","unmounting","_mergeAndSync","propStyles","_mergeAndSync2","newMergedPropsStyle","any","styleThatEntered","undefined","defaultStyleCell","_mergeAndSync3","hydratedStyles","prev","next","onRemove","prevKeyIndex","nextKeyIndex","ret","fill","push","sort","a","b","nextOrderA","nextOrderB","prevOrderA","prevOrderB","pivot","defaultConfig","_presets2","noWobble","Hammer","window","privateProps","options","recognizeWith","vertical","handlerToEvent","action","onDoubleTap","onPanCancel","onPanEnd","onPanStart","onPinch","onPinchCancel","onPinchEnd","onPinchIn","onPinchOut","onPinchStart","onRotate","onRotateCancel","onRotateEnd","onRotateMove","onRotateStart","onSwipe","onSwipeRight","onSwipeLeft","onSwipeUp","onSwipeDown","updateHammer","hammer","console","warn","directionProp","get","set","keys","forEach","option","recognizers","gesture","recognizer","requireFailure","optionObj","p","off","on","HammerComponent","domElement","stop","destroy","ref","cloneElement","displayName","exportName","VENDOR_PREFIXES","TEST_ELEMENT","TYPE_FUNCTION","round","now","Date","setTimeoutContext","fn","timeout","context","setTimeout","bindFn","invokeArrayArg","arg","isArray","each","iterator","deprecate","method","name","message","deprecationMessage","Error","stack","replace","log","output","index","nextKey","extend","dest","src","merge","inherit","child","base","properties","childP","baseP","_super","boolOrFn","ifUndefined","val1","val2","addEventListeners","types","handler","splitStr","type","addEventListener","removeEventListeners","removeEventListener","hasParent","node","parent","parentNode","inStr","str","find","indexOf","trim","split","inArray","findByKey","toArray","slice","uniqueArray","results","values","prefixed","property","prefix","prop","camelProp","toUpperCase","_uniqueId","getWindowForElement","element","doc","ownerDocument","defaultView","parentWindow","SUPPORT_TOUCH","SUPPORT_POINTER_EVENTS","SUPPORT_ONLY_TOUCH","navigator","userAgent","COMPUTE_INTERVAL","INPUT_START","INPUT_MOVE","INPUT_END","INPUT_CANCEL","DIRECTION_NONE","DIRECTION_LEFT","DIRECTION_RIGHT","DIRECTION_UP","DIRECTION_DOWN","DIRECTION_VERTICAL","DIRECTION_ALL","PROPS_XY","PROPS_CLIENT_XY","Input","manager","callback","inputTarget","domHandler","ev","enable","init","inputHandler","eventType","input","pointersLen","changedPointersLen","changedPointers","isFirst","session","pointersLength","firstInput","simpleCloneInputData","firstMultiple","offsetCenter","center","getCenter","timeStamp","deltaTime","angle","getAngle","distance","getDistance","offsetDelta","prevDelta","prevInput","y","deltaY","computeDeltaXY","offsetDirection","getDirection","overallVelocity","getVelocity","overallVelocityX","overallVelocityY","scale","start","end","rotation","getRotation","maxPointers","velocityX","velocityY","last","lastInterval","v","computeIntervalInputData","srcEvent","computeInputData","emit","recognize","clientY","p1","p2","sqrt","atan2","PI","evEl","evTarget","evWin","MOUSE_INPUT_MAP","mousedown","mousemove","mouseup","MOUSE_ELEMENT_EVENTS","MOUSE_WINDOW_EVENTS","MouseInput","pressed","button","which","pointerType","POINTER_INPUT_MAP","pointerdown","pointermove","pointerup","pointercancel","pointerout","IE10_POINTER_TYPE_ENUM","2","3","4","5","POINTER_ELEMENT_EVENTS","POINTER_WINDOW_EVENTS","PointerEventInput","store","pointerEvents","MSPointerEvent","PointerEvent","removePointer","eventTypeNormalized","toLowerCase","isTouch","storeIndex","pointerId","splice","SINGLE_TOUCH_INPUT_MAP","touchstart","touchmove","touchend","touchcancel","SINGLE_TOUCH_TARGET_EVENTS","SINGLE_TOUCH_WINDOW_EVENTS","SingleTouchInput","started","normalizeSingleTouches","all","touches","changed","changedTouches","TOUCH_INPUT_MAP","TOUCH_TARGET_EVENTS","TouchInput","targetIds","getTouches","allTouches","identifier","targetTouches","changedTargetTouches","filter","touch","DEDUP_TIMEOUT","DEDUP_DISTANCE","TouchMouseInput","mouse","primaryTouch","lastTouches","recordTouches","eventData","setLastTouch","lastTouch","lts","isSyntheticEvent","t","dx","dy","inputEvent","inputData","isMouse","sourceCapabilities","firesTouchEvents","PREFIXED_TOUCH_ACTION","NATIVE_TOUCH_ACTION","TOUCH_ACTION_AUTO","TOUCH_ACTION_MANIPULATION","TOUCH_ACTION_NONE","TOUCH_ACTION_PAN_X","TOUCH_ACTION_PAN_Y","TOUCH_ACTION_MAP","touchMap","cssSupports","CSS","supports","getTouchActionProps","TouchAction","compute","actions","update","touchAction","getTouchAction","hasPanX","hasPanY","cleanTouchActions","join","preventDefaults","prevented","hasNone","isTapPointer","isTapMovement","isTapTouchTime","preventSrc","STATE_POSSIBLE","STATE_BEGAN","STATE_CHANGED","STATE_ENDED","STATE_RECOGNIZED","STATE_CANCELLED","Recognizer","defaults","id","simultaneous","requireFail","stateStr","directionStr","getRecognizerByNameIfManager","otherRecognizer","AttrRecognizer","PanRecognizer","pX","pY","PinchRecognizer","PressRecognizer","_timer","_input","RotateRecognizer","SwipeRecognizer","TapRecognizer","pTime","pCenter","count","preset","Manager","dropRecognizeWith","dropRequireFailure","hasRequireFailures","canRecognizeWith","event","additionalEvent","tryEmit","canEmit","inputDataClone","reset","process","attrTest","optionPointers","isRecognized","isValid","threshold","directionTest","hasMoved","inOut","time","validPointers","validMovement","validTime","clearTimeout","taps","interval","posThreshold","validTouchTime","failTimeout","validInterval","validMultiTap","tapCount","VERSION","domEvents","inputClass","cssProps","userSelect","touchSelect","touchCallout","contentZooming","userDrag","tapHighlightColor","handlers","oldCssProps","createInputInstance","toggleCssProps","item","add","force","stopped","curRecognizer","existing","remove","events","gestureEvent","createEvent","initEvent","dispatchEvent","triggerDomEvent","STATE_FAILED","Tap","Pan","Swipe","Pinch","Rotate","Press","_defineProperty","_transform","_overlay","left","opacity","overlayTransform","overflow","boxSizing","pointer","position","background","top","createSelector","allMails","filterAttr","searchString","newMails","mails","bucket","mail","filterBucket","tag","tags","filterTag","search","email","subject","includes","MailBox","styled","div","palette","borderRadius","boxShadow","transition","WithDirection","WDSingleMailActions","WDMailActionsWrapper","WDMailCategoryWrapper","WDMailPaginationWrapper","MailActionDropdown","ul","SingleMailActions","MailCategoryWrapper","MailPaginationWrapper","MailActionsWrapper","DeleteButton","Popconfirm","title","okText","cancelText","onConfirm","notification","MoveMailButton","bucketOptions","buckets","onClick","content","SelectTagButton","tagOptions","filterMails","selectMail","toggleListVisible","findIndex","filterMail","SingleMailContents","WDSingleMailHeader","WDSingleMailInfo","WDSingleMailBody","WDSingleMailReply","SingleMailHeader","SingleMailInfo","SingleMailBody","SingleMailReply","singleMail","allMail","replyMail","changeReplyMail","signature","splitLet","labelColor","tagColor","backgroundColor","img","alt","timeDifference","date","ComposeMail","MailListWrapper","mailList","selectedMail","isSelected","activeClass","unreadClass","read","tagOption","borderRightColor","borderTopColor","renderSingleMail","MailComposeBtnWrapper","changeComposeMail","onDrawerClose","MailPagination","MailDrawer","filterAction","mailActions","changeSearchString","TabView","onDrawerChange","openDrawer","bind","closeDrawer","composeMail","singleMailComponent","placeholder","onSearch","tabView","mailBuckets","mailTags","connect","Mails","mailSelector","createNotification","description","MailTagsList","mailtags","Tags","gettags","renderSingleTag","secondPerFrame","destX","k","newV","newX","reusedTuple","getNanoSeconds","hrtime","loadTime","performance","hr","getTime","gentle","wobbly","stiff","ComposeAutoCompleteStyleWrapper","delimiters","App","suggestions","text","handleDelete","handleAddition","handleDrag","currPos","newPos","newTags","ReactTags","minQueryLength","autofocus","React","ComposeForm","uploadCallback","file","Promise","resolve","reject","xhr","XMLHttpRequest","setRequestHeader","FormData","append","send","response","JSON","parse","responseText","error","useState","editorState","loading","iconLoading","ComposeAutoCompleteTO","updateData","ComposeAutoCompleteCC","editorOption","toolbarClassName","wrapperClassName","editorClassName","onEditorStateChange","toolbar","image","mobileView","MailBucket","mailbuckets","unread","getUnread","renderSinglebucket","QuillEditor","font","Editor","editorHtml","theme","handleChange","html","newTheme","modules","formats","bounds","header","size","list","indent","clipboard","matchVisual"],"mappings":"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","file":"static/js/45.9992bf0b.chunk.js","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _react = require(\"react\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require(\"prop-types\");\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _reactMotion = require(\"react-motion\");\n\nvar _reactHammerjs = require(\"react-hammerjs\");\n\nvar _reactHammerjs2 = _interopRequireDefault(_reactHammerjs);\n\nvar _isFunction = require(\"1-liners/isFunction\");\n\nvar _isFunction2 = _interopRequireDefault(_isFunction);\n\nvar _styles2 = require(\"./styles\");\n\nvar _styles3 = _interopRequireDefault(_styles2);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar bool = _propTypes2.default.bool,\n    number = _propTypes2.default.number,\n    array = _propTypes2.default.array,\n    object = _propTypes2.default.object,\n    string = _propTypes2.default.string,\n    func = _propTypes2.default.func,\n    oneOfType = _propTypes2.default.oneOfType;\n\nvar Drawer = function (_React$Component) {\n  _inherits(Drawer, _React$Component);\n\n  function Drawer() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, Drawer);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = Drawer.__proto__ || Object.getPrototypeOf(Drawer)).call.apply(_ref, [this].concat(args))), _this), _this.state = {\n      currentState: \"CLOSED\"\n    }, _this.isState = function (s) {\n      return s === _this.state.currentState;\n    }, _this.isClosed = function () {\n      return _this.isState(\"CLOSED\");\n    }, _this.isOpen = function () {\n      return _this.isState(\"OPEN\");\n    }, _this.isOpening = function () {\n      return _this.isState(\"IS_OPENING\");\n    }, _this.isClosing = function () {\n      return _this.isState(\"IS_CLOSING\");\n    }, _this.onPress = function (e) {\n      if (_this.props.noTouchOpen) return;\n      e.preventDefault();\n\n      _this.peak();\n    }, _this.onPressUp = function (e) {\n      if (_this.props.noTouchClose) return;\n      e.preventDefault();\n\n      _this.close();\n    }, _this.onPan = function (e) {\n      if (_this.isClosed() && _this.props.noTouchOpen) return;\n      if (_this.isOpen() && _this.props.noTouchClose) return;\n      e.preventDefault();\n      var isFinal = e.isFinal,\n          pointers = e.pointers,\n          direction = e.direction,\n          deltaX = e.deltaX;\n      if (_this.inPanTolerance(deltaX)) return;\n\n      if (isFinal) {\n        if (_this.isOpening()) _this.open();else if (_this.isClosing()) _this.close();\n        return;\n      }\n\n      var currentState = _this.state.currentState;\n      var _this$props = _this.props,\n          right = _this$props.right,\n          peakingWidth = _this$props.peakingWidth,\n          handleWidth = _this$props.handleWidth;\n\n      var width = _this.calculateWidth();\n\n      var clientX = pointers[0].clientX;\n      var x = right ? document.body.clientWidth - clientX : clientX;\n      if (x + peakingWidth >= width) x = width - peakingWidth;\n\n      var closingOrOpening = _this.closingOrOpening(direction);\n\n      var nextState = {\n        PEAK: closingOrOpening,\n        IS_OPENING: closingOrOpening,\n        IS_CLOSING: closingOrOpening,\n        OPEN: \"IS_CLOSING\",\n        CLOSED: \"PEAK\"\n      };\n\n      _this.setState({\n        currentState: nextState[currentState],\n        x: _this.isClosed() ? peakingWidth : peakingWidth / 2 + x\n      });\n    }, _this.onOverlayTap = function (e) {\n      e.preventDefault();\n      if (_this.isOpen()) _this.close();\n    }, _this.calculateWidth = function () {\n      var width = _this.props.width;\n      return /\\D/.test(width) ? document.body.clientWidth * (width.match(/\\d*/) / 100) : width;\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(Drawer, [{\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      var open = this.props.open;\n      var nextOpen = nextProps.open;\n\n      if (nextOpen !== open) {\n        if (nextOpen) this.open();else this.close();\n      }\n    }\n  }, {\n    key: \"peak\",\n    value: function peak() {\n      var _props = this.props,\n          onChange = _props.onChange,\n          handleWidth = _props.handleWidth;\n      onChange(false);\n      return this.setState({\n        currentState: \"PEAK\",\n        x: handleWidth\n      });\n    }\n  }, {\n    key: \"close\",\n    value: function close() {\n      this.props.onChange(false);\n      return this.setState({\n        currentState: \"CLOSED\",\n        x: 0\n      });\n    }\n  }, {\n    key: \"open\",\n    value: function open() {\n      var _props2 = this.props,\n          onChange = _props2.onChange,\n          width = _props2.width;\n      onChange(true);\n      return this.setState({\n        currentState: \"OPEN\",\n        x: this.calculateWidth()\n      });\n    }\n  }, {\n    key: \"isClosingDirection\",\n    value: function isClosingDirection(direction) {\n      var right = this.props.right;\n      var isClosing = direction === 2;\n      if (right) return !isClosing;else return isClosing;\n    }\n  }, {\n    key: \"closingOrOpening\",\n    value: function closingOrOpening(direction) {\n      return this.isClosingDirection(direction) ? \"IS_CLOSING\" : \"IS_OPENING\";\n    }\n  }, {\n    key: \"inPanTolerance\",\n    value: function inPanTolerance(deltaX) {\n      var currentState = this.state.currentState;\n      var panTolerance = this.props.panTolerance;\n      return Math.abs(deltaX) <= panTolerance && currentState === \"OPEN\";\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _props3 = this.props,\n          config = _props3.config,\n          drawerStyle = _props3.drawerStyle,\n          className = _props3.className,\n          overlayClassName = _props3.overlayClassName,\n          width = _props3.width,\n          children = _props3.children,\n          offset = _props3.offset;\n      var _state = this.state,\n          currentState = _state.currentState,\n          x = _state.x;\n      return _react2.default.createElement(_reactMotion.Motion, {\n        style: {\n          myProp: (0, _reactMotion.spring)(Math.min(x + offset || 0, this.calculateWidth()), config)\n        }\n      }, function (interpolated) {\n        var _styles = (0, _styles3.default)(interpolated.myProp, _this2.props),\n            drawer = _styles.drawer,\n            transform = _styles.transform,\n            overlay = _styles.overlay;\n\n        var computedStyle = _extends({}, drawer, drawerStyle);\n\n        if (interpolated.myProp > 0) computedStyle.display = \"block\";else computedStyle.display = \"none\";\n        return _react2.default.createElement(_reactHammerjs2.default, {\n          onPress: _this2.onPress,\n          onPressUp: _this2.onPressUp,\n          onPan: _this2.onPan,\n          direction: _reactHammerjs2.default.DIRECTION_HORIZONTAL\n        }, _react2.default.createElement(\"div\", {\n          style: transform\n        }, _react2.default.createElement(\"div\", {\n          className: className,\n          style: computedStyle\n        }, (0, _isFunction2.default)(children) ? children(interpolated.myProp) : children, !_this2.isClosed() && _react2.default.createElement(_reactHammerjs2.default, {\n          style: overlay,\n          className: overlayClassName,\n          onTap: _this2.onOverlayTap\n        }, _react2.default.createElement(\"span\", null)))));\n      });\n    }\n  }]);\n\n  return Drawer;\n}(_react2.default.Component);\n\nDrawer.propTypes = {\n  zIndex: number,\n  // z-index of the drawer default is 10000\n  noTouchOpen: bool,\n  // can a user pan to open\n  noTouchClose: bool,\n  // can a user pan to close\n  onChange: func,\n  // called when the drawer is open\n  drawerStyle: object,\n  // additional drawer styles\n  className: string,\n  // additional drawer className\n  overlayClassName: string,\n  // additional overlay className\n  config: _propTypes2.default.shape({\n    stiffness: number,\n    damping: number,\n    precision: number\n  }),\n  // configuration of the react-motion animation\n  open: bool,\n  // states if the drawer is open\n  width: oneOfType([number, string]),\n  // width of the drawer\n  height: oneOfType([number, string]),\n  // height of the drawer\n  handleWidth: number,\n  // width of the handle\n  peakingWidth: number,\n  // width that the drawer peaks on press\n  panTolerance: number,\n  // tolerance until the drawer starts to move\n  right: bool,\n  // drawer on the right side of the screen\n  overlayColor: string,\n  // color of the overlay\n  fadeOut: bool,\n  // fade out\n  offset: number // offset\n\n};\nDrawer.defaultProps = {\n  zIndex: 10000,\n  noTouchOpen: false,\n  noTouchClose: false,\n  onChange: function onChange() {},\n  overlayColor: \"rgba(0, 0, 0, 0.4)\",\n  config: {\n    stiffness: 350,\n    damping: 40\n  },\n  open: false,\n  width: 300,\n  height: \"100%\",\n  handleWidth: 20,\n  peakingWidth: 50,\n  panTolerance: 50,\n  right: false,\n  fadeOut: false,\n  offset: 0\n};\nexports.default = Drawer;","'use strict';\n\nexports.__esModule = true;\n\nfunction _interopRequire(obj) {\n  return obj && obj.__esModule ? obj['default'] : obj;\n}\n\nvar _Motion = require('./Motion');\n\nexports.Motion = _interopRequire(_Motion);\n\nvar _StaggeredMotion = require('./StaggeredMotion');\n\nexports.StaggeredMotion = _interopRequire(_StaggeredMotion);\n\nvar _TransitionMotion = require('./TransitionMotion');\n\nexports.TransitionMotion = _interopRequire(_TransitionMotion);\n\nvar _spring = require('./spring');\n\nexports.spring = _interopRequire(_spring);\n\nvar _presets = require('./presets');\n\nexports.presets = _interopRequire(_presets);\n\nvar _stripStyle = require('./stripStyle');\n\nexports.stripStyle = _interopRequire(_stripStyle); // deprecated, dummy warning function\n\nvar _reorderKeys = require('./reorderKeys');\n\nexports.reorderKeys = _interopRequire(_reorderKeys);","'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if ('value' in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    'default': obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError('Cannot call a class as a function');\n  }\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== 'function' && superClass !== null) {\n    throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar _mapToZero = require('./mapToZero');\n\nvar _mapToZero2 = _interopRequireDefault(_mapToZero);\n\nvar _stripStyle = require('./stripStyle');\n\nvar _stripStyle2 = _interopRequireDefault(_stripStyle);\n\nvar _stepper3 = require('./stepper');\n\nvar _stepper4 = _interopRequireDefault(_stepper3);\n\nvar _performanceNow = require('performance-now');\n\nvar _performanceNow2 = _interopRequireDefault(_performanceNow);\n\nvar _raf = require('raf');\n\nvar _raf2 = _interopRequireDefault(_raf);\n\nvar _shouldStopAnimation = require('./shouldStopAnimation');\n\nvar _shouldStopAnimation2 = _interopRequireDefault(_shouldStopAnimation);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar msPerFrame = 1000 / 60;\n\nvar Motion = function (_React$Component) {\n  _inherits(Motion, _React$Component);\n\n  _createClass(Motion, null, [{\n    key: 'propTypes',\n    value: {\n      // TOOD: warn against putting a config in here\n      defaultStyle: _propTypes2['default'].objectOf(_propTypes2['default'].number),\n      style: _propTypes2['default'].objectOf(_propTypes2['default'].oneOfType([_propTypes2['default'].number, _propTypes2['default'].object])).isRequired,\n      children: _propTypes2['default'].func.isRequired,\n      onRest: _propTypes2['default'].func\n    },\n    enumerable: true\n  }]);\n\n  function Motion(props) {\n    var _this = this;\n\n    _classCallCheck(this, Motion);\n\n    _React$Component.call(this, props);\n\n    this.wasAnimating = false;\n    this.animationID = null;\n    this.prevTime = 0;\n    this.accumulatedTime = 0;\n    this.unreadPropStyle = null;\n\n    this.clearUnreadPropStyle = function (destStyle) {\n      var dirty = false;\n      var _state = _this.state;\n      var currentStyle = _state.currentStyle;\n      var currentVelocity = _state.currentVelocity;\n      var lastIdealStyle = _state.lastIdealStyle;\n      var lastIdealVelocity = _state.lastIdealVelocity;\n\n      for (var key in destStyle) {\n        if (!Object.prototype.hasOwnProperty.call(destStyle, key)) {\n          continue;\n        }\n\n        var styleValue = destStyle[key];\n\n        if (typeof styleValue === 'number') {\n          if (!dirty) {\n            dirty = true;\n            currentStyle = _extends({}, currentStyle);\n            currentVelocity = _extends({}, currentVelocity);\n            lastIdealStyle = _extends({}, lastIdealStyle);\n            lastIdealVelocity = _extends({}, lastIdealVelocity);\n          }\n\n          currentStyle[key] = styleValue;\n          currentVelocity[key] = 0;\n          lastIdealStyle[key] = styleValue;\n          lastIdealVelocity[key] = 0;\n        }\n      }\n\n      if (dirty) {\n        _this.setState({\n          currentStyle: currentStyle,\n          currentVelocity: currentVelocity,\n          lastIdealStyle: lastIdealStyle,\n          lastIdealVelocity: lastIdealVelocity\n        });\n      }\n    };\n\n    this.startAnimationIfNecessary = function () {\n      // TODO: when config is {a: 10} and dest is {a: 10} do we raf once and\n      // call cb? No, otherwise accidental parent rerender causes cb trigger\n      _this.animationID = _raf2['default'](function (timestamp) {\n        // check if we need to animate in the first place\n        var propsStyle = _this.props.style;\n\n        if (_shouldStopAnimation2['default'](_this.state.currentStyle, propsStyle, _this.state.currentVelocity)) {\n          if (_this.wasAnimating && _this.props.onRest) {\n            _this.props.onRest();\n          } // no need to cancel animationID here; shouldn't have any in flight\n\n\n          _this.animationID = null;\n          _this.wasAnimating = false;\n          _this.accumulatedTime = 0;\n          return;\n        }\n\n        _this.wasAnimating = true;\n\n        var currentTime = timestamp || _performanceNow2['default']();\n\n        var timeDelta = currentTime - _this.prevTime;\n        _this.prevTime = currentTime;\n        _this.accumulatedTime = _this.accumulatedTime + timeDelta; // more than 10 frames? prolly switched browser tab. Restart\n\n        if (_this.accumulatedTime > msPerFrame * 10) {\n          _this.accumulatedTime = 0;\n        }\n\n        if (_this.accumulatedTime === 0) {\n          // no need to cancel animationID here; shouldn't have any in flight\n          _this.animationID = null;\n\n          _this.startAnimationIfNecessary();\n\n          return;\n        }\n\n        var currentFrameCompletion = (_this.accumulatedTime - Math.floor(_this.accumulatedTime / msPerFrame) * msPerFrame) / msPerFrame;\n        var framesToCatchUp = Math.floor(_this.accumulatedTime / msPerFrame);\n        var newLastIdealStyle = {};\n        var newLastIdealVelocity = {};\n        var newCurrentStyle = {};\n        var newCurrentVelocity = {};\n\n        for (var key in propsStyle) {\n          if (!Object.prototype.hasOwnProperty.call(propsStyle, key)) {\n            continue;\n          }\n\n          var styleValue = propsStyle[key];\n\n          if (typeof styleValue === 'number') {\n            newCurrentStyle[key] = styleValue;\n            newCurrentVelocity[key] = 0;\n            newLastIdealStyle[key] = styleValue;\n            newLastIdealVelocity[key] = 0;\n          } else {\n            var newLastIdealStyleValue = _this.state.lastIdealStyle[key];\n            var newLastIdealVelocityValue = _this.state.lastIdealVelocity[key];\n\n            for (var i = 0; i < framesToCatchUp; i++) {\n              var _stepper = _stepper4['default'](msPerFrame / 1000, newLastIdealStyleValue, newLastIdealVelocityValue, styleValue.val, styleValue.stiffness, styleValue.damping, styleValue.precision);\n\n              newLastIdealStyleValue = _stepper[0];\n              newLastIdealVelocityValue = _stepper[1];\n            }\n\n            var _stepper2 = _stepper4['default'](msPerFrame / 1000, newLastIdealStyleValue, newLastIdealVelocityValue, styleValue.val, styleValue.stiffness, styleValue.damping, styleValue.precision);\n\n            var nextIdealX = _stepper2[0];\n            var nextIdealV = _stepper2[1];\n            newCurrentStyle[key] = newLastIdealStyleValue + (nextIdealX - newLastIdealStyleValue) * currentFrameCompletion;\n            newCurrentVelocity[key] = newLastIdealVelocityValue + (nextIdealV - newLastIdealVelocityValue) * currentFrameCompletion;\n            newLastIdealStyle[key] = newLastIdealStyleValue;\n            newLastIdealVelocity[key] = newLastIdealVelocityValue;\n          }\n        }\n\n        _this.animationID = null; // the amount we're looped over above\n\n        _this.accumulatedTime -= framesToCatchUp * msPerFrame;\n\n        _this.setState({\n          currentStyle: newCurrentStyle,\n          currentVelocity: newCurrentVelocity,\n          lastIdealStyle: newLastIdealStyle,\n          lastIdealVelocity: newLastIdealVelocity\n        });\n\n        _this.unreadPropStyle = null;\n\n        _this.startAnimationIfNecessary();\n      });\n    };\n\n    this.state = this.defaultState();\n  }\n\n  Motion.prototype.defaultState = function defaultState() {\n    var _props = this.props;\n    var defaultStyle = _props.defaultStyle;\n    var style = _props.style;\n\n    var currentStyle = defaultStyle || _stripStyle2['default'](style);\n\n    var currentVelocity = _mapToZero2['default'](currentStyle);\n\n    return {\n      currentStyle: currentStyle,\n      currentVelocity: currentVelocity,\n      lastIdealStyle: currentStyle,\n      lastIdealVelocity: currentVelocity\n    };\n  }; // it's possible that currentStyle's value is stale: if props is immediately\n  // changed from 0 to 400 to spring(0) again, the async currentStyle is still\n  // at 0 (didn't have time to tick and interpolate even once). If we naively\n  // compare currentStyle with destVal it'll be 0 === 0 (no animation, stop).\n  // In reality currentStyle should be 400\n\n\n  Motion.prototype.componentDidMount = function componentDidMount() {\n    this.prevTime = _performanceNow2['default']();\n    this.startAnimationIfNecessary();\n  };\n\n  Motion.prototype.componentWillReceiveProps = function componentWillReceiveProps(props) {\n    if (this.unreadPropStyle != null) {\n      // previous props haven't had the chance to be set yet; set them here\n      this.clearUnreadPropStyle(this.unreadPropStyle);\n    }\n\n    this.unreadPropStyle = props.style;\n\n    if (this.animationID == null) {\n      this.prevTime = _performanceNow2['default']();\n      this.startAnimationIfNecessary();\n    }\n  };\n\n  Motion.prototype.componentWillUnmount = function componentWillUnmount() {\n    if (this.animationID != null) {\n      _raf2['default'].cancel(this.animationID);\n\n      this.animationID = null;\n    }\n  };\n\n  Motion.prototype.render = function render() {\n    var renderedChildren = this.props.children(this.state.currentStyle);\n    return renderedChildren && _react2['default'].Children.only(renderedChildren);\n  };\n\n  return Motion;\n}(_react2['default'].Component);\n\nexports['default'] = Motion;\nmodule.exports = exports['default']; // after checking for unreadPropStyle != null, we manually go set the\n// non-interpolating values (those that are a number, without a spring\n// config)","'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if ('value' in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    'default': obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError('Cannot call a class as a function');\n  }\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== 'function' && superClass !== null) {\n    throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar _mapToZero = require('./mapToZero');\n\nvar _mapToZero2 = _interopRequireDefault(_mapToZero);\n\nvar _stripStyle = require('./stripStyle');\n\nvar _stripStyle2 = _interopRequireDefault(_stripStyle);\n\nvar _stepper3 = require('./stepper');\n\nvar _stepper4 = _interopRequireDefault(_stepper3);\n\nvar _performanceNow = require('performance-now');\n\nvar _performanceNow2 = _interopRequireDefault(_performanceNow);\n\nvar _raf = require('raf');\n\nvar _raf2 = _interopRequireDefault(_raf);\n\nvar _shouldStopAnimation = require('./shouldStopAnimation');\n\nvar _shouldStopAnimation2 = _interopRequireDefault(_shouldStopAnimation);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar msPerFrame = 1000 / 60;\n\nfunction shouldStopAnimationAll(currentStyles, styles, currentVelocities) {\n  for (var i = 0; i < currentStyles.length; i++) {\n    if (!_shouldStopAnimation2['default'](currentStyles[i], styles[i], currentVelocities[i])) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nvar StaggeredMotion = function (_React$Component) {\n  _inherits(StaggeredMotion, _React$Component);\n\n  _createClass(StaggeredMotion, null, [{\n    key: 'propTypes',\n    value: {\n      // TOOD: warn against putting a config in here\n      defaultStyles: _propTypes2['default'].arrayOf(_propTypes2['default'].objectOf(_propTypes2['default'].number)),\n      styles: _propTypes2['default'].func.isRequired,\n      children: _propTypes2['default'].func.isRequired\n    },\n    enumerable: true\n  }]);\n\n  function StaggeredMotion(props) {\n    var _this = this;\n\n    _classCallCheck(this, StaggeredMotion);\n\n    _React$Component.call(this, props);\n\n    this.animationID = null;\n    this.prevTime = 0;\n    this.accumulatedTime = 0;\n    this.unreadPropStyles = null;\n\n    this.clearUnreadPropStyle = function (unreadPropStyles) {\n      var _state = _this.state;\n      var currentStyles = _state.currentStyles;\n      var currentVelocities = _state.currentVelocities;\n      var lastIdealStyles = _state.lastIdealStyles;\n      var lastIdealVelocities = _state.lastIdealVelocities;\n      var someDirty = false;\n\n      for (var i = 0; i < unreadPropStyles.length; i++) {\n        var unreadPropStyle = unreadPropStyles[i];\n        var dirty = false;\n\n        for (var key in unreadPropStyle) {\n          if (!Object.prototype.hasOwnProperty.call(unreadPropStyle, key)) {\n            continue;\n          }\n\n          var styleValue = unreadPropStyle[key];\n\n          if (typeof styleValue === 'number') {\n            if (!dirty) {\n              dirty = true;\n              someDirty = true;\n              currentStyles[i] = _extends({}, currentStyles[i]);\n              currentVelocities[i] = _extends({}, currentVelocities[i]);\n              lastIdealStyles[i] = _extends({}, lastIdealStyles[i]);\n              lastIdealVelocities[i] = _extends({}, lastIdealVelocities[i]);\n            }\n\n            currentStyles[i][key] = styleValue;\n            currentVelocities[i][key] = 0;\n            lastIdealStyles[i][key] = styleValue;\n            lastIdealVelocities[i][key] = 0;\n          }\n        }\n      }\n\n      if (someDirty) {\n        _this.setState({\n          currentStyles: currentStyles,\n          currentVelocities: currentVelocities,\n          lastIdealStyles: lastIdealStyles,\n          lastIdealVelocities: lastIdealVelocities\n        });\n      }\n    };\n\n    this.startAnimationIfNecessary = function () {\n      // TODO: when config is {a: 10} and dest is {a: 10} do we raf once and\n      // call cb? No, otherwise accidental parent rerender causes cb trigger\n      _this.animationID = _raf2['default'](function (timestamp) {\n        var destStyles = _this.props.styles(_this.state.lastIdealStyles); // check if we need to animate in the first place\n\n\n        if (shouldStopAnimationAll(_this.state.currentStyles, destStyles, _this.state.currentVelocities)) {\n          // no need to cancel animationID here; shouldn't have any in flight\n          _this.animationID = null;\n          _this.accumulatedTime = 0;\n          return;\n        }\n\n        var currentTime = timestamp || _performanceNow2['default']();\n\n        var timeDelta = currentTime - _this.prevTime;\n        _this.prevTime = currentTime;\n        _this.accumulatedTime = _this.accumulatedTime + timeDelta; // more than 10 frames? prolly switched browser tab. Restart\n\n        if (_this.accumulatedTime > msPerFrame * 10) {\n          _this.accumulatedTime = 0;\n        }\n\n        if (_this.accumulatedTime === 0) {\n          // no need to cancel animationID here; shouldn't have any in flight\n          _this.animationID = null;\n\n          _this.startAnimationIfNecessary();\n\n          return;\n        }\n\n        var currentFrameCompletion = (_this.accumulatedTime - Math.floor(_this.accumulatedTime / msPerFrame) * msPerFrame) / msPerFrame;\n        var framesToCatchUp = Math.floor(_this.accumulatedTime / msPerFrame);\n        var newLastIdealStyles = [];\n        var newLastIdealVelocities = [];\n        var newCurrentStyles = [];\n        var newCurrentVelocities = [];\n\n        for (var i = 0; i < destStyles.length; i++) {\n          var destStyle = destStyles[i];\n          var newCurrentStyle = {};\n          var newCurrentVelocity = {};\n          var newLastIdealStyle = {};\n          var newLastIdealVelocity = {};\n\n          for (var key in destStyle) {\n            if (!Object.prototype.hasOwnProperty.call(destStyle, key)) {\n              continue;\n            }\n\n            var styleValue = destStyle[key];\n\n            if (typeof styleValue === 'number') {\n              newCurrentStyle[key] = styleValue;\n              newCurrentVelocity[key] = 0;\n              newLastIdealStyle[key] = styleValue;\n              newLastIdealVelocity[key] = 0;\n            } else {\n              var newLastIdealStyleValue = _this.state.lastIdealStyles[i][key];\n              var newLastIdealVelocityValue = _this.state.lastIdealVelocities[i][key];\n\n              for (var j = 0; j < framesToCatchUp; j++) {\n                var _stepper = _stepper4['default'](msPerFrame / 1000, newLastIdealStyleValue, newLastIdealVelocityValue, styleValue.val, styleValue.stiffness, styleValue.damping, styleValue.precision);\n\n                newLastIdealStyleValue = _stepper[0];\n                newLastIdealVelocityValue = _stepper[1];\n              }\n\n              var _stepper2 = _stepper4['default'](msPerFrame / 1000, newLastIdealStyleValue, newLastIdealVelocityValue, styleValue.val, styleValue.stiffness, styleValue.damping, styleValue.precision);\n\n              var nextIdealX = _stepper2[0];\n              var nextIdealV = _stepper2[1];\n              newCurrentStyle[key] = newLastIdealStyleValue + (nextIdealX - newLastIdealStyleValue) * currentFrameCompletion;\n              newCurrentVelocity[key] = newLastIdealVelocityValue + (nextIdealV - newLastIdealVelocityValue) * currentFrameCompletion;\n              newLastIdealStyle[key] = newLastIdealStyleValue;\n              newLastIdealVelocity[key] = newLastIdealVelocityValue;\n            }\n          }\n\n          newCurrentStyles[i] = newCurrentStyle;\n          newCurrentVelocities[i] = newCurrentVelocity;\n          newLastIdealStyles[i] = newLastIdealStyle;\n          newLastIdealVelocities[i] = newLastIdealVelocity;\n        }\n\n        _this.animationID = null; // the amount we're looped over above\n\n        _this.accumulatedTime -= framesToCatchUp * msPerFrame;\n\n        _this.setState({\n          currentStyles: newCurrentStyles,\n          currentVelocities: newCurrentVelocities,\n          lastIdealStyles: newLastIdealStyles,\n          lastIdealVelocities: newLastIdealVelocities\n        });\n\n        _this.unreadPropStyles = null;\n\n        _this.startAnimationIfNecessary();\n      });\n    };\n\n    this.state = this.defaultState();\n  }\n\n  StaggeredMotion.prototype.defaultState = function defaultState() {\n    var _props = this.props;\n    var defaultStyles = _props.defaultStyles;\n    var styles = _props.styles;\n    var currentStyles = defaultStyles || styles().map(_stripStyle2['default']);\n    var currentVelocities = currentStyles.map(function (currentStyle) {\n      return _mapToZero2['default'](currentStyle);\n    });\n    return {\n      currentStyles: currentStyles,\n      currentVelocities: currentVelocities,\n      lastIdealStyles: currentStyles,\n      lastIdealVelocities: currentVelocities\n    };\n  };\n\n  StaggeredMotion.prototype.componentDidMount = function componentDidMount() {\n    this.prevTime = _performanceNow2['default']();\n    this.startAnimationIfNecessary();\n  };\n\n  StaggeredMotion.prototype.componentWillReceiveProps = function componentWillReceiveProps(props) {\n    if (this.unreadPropStyles != null) {\n      // previous props haven't had the chance to be set yet; set them here\n      this.clearUnreadPropStyle(this.unreadPropStyles);\n    }\n\n    this.unreadPropStyles = props.styles(this.state.lastIdealStyles);\n\n    if (this.animationID == null) {\n      this.prevTime = _performanceNow2['default']();\n      this.startAnimationIfNecessary();\n    }\n  };\n\n  StaggeredMotion.prototype.componentWillUnmount = function componentWillUnmount() {\n    if (this.animationID != null) {\n      _raf2['default'].cancel(this.animationID);\n\n      this.animationID = null;\n    }\n  };\n\n  StaggeredMotion.prototype.render = function render() {\n    var renderedChildren = this.props.children(this.state.currentStyles);\n    return renderedChildren && _react2['default'].Children.only(renderedChildren);\n  };\n\n  return StaggeredMotion;\n}(_react2['default'].Component);\n\nexports['default'] = StaggeredMotion;\nmodule.exports = exports['default']; // it's possible that currentStyle's value is stale: if props is immediately\n// changed from 0 to 400 to spring(0) again, the async currentStyle is still\n// at 0 (didn't have time to tick and interpolate even once). If we naively\n// compare currentStyle with destVal it'll be 0 === 0 (no animation, stop).\n// In reality currentStyle should be 400\n// after checking for unreadPropStyles != null, we manually go set the\n// non-interpolating values (those that are a number, without a spring\n// config)","'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if ('value' in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    'default': obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError('Cannot call a class as a function');\n  }\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== 'function' && superClass !== null) {\n    throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar _mapToZero = require('./mapToZero');\n\nvar _mapToZero2 = _interopRequireDefault(_mapToZero);\n\nvar _stripStyle = require('./stripStyle');\n\nvar _stripStyle2 = _interopRequireDefault(_stripStyle);\n\nvar _stepper3 = require('./stepper');\n\nvar _stepper4 = _interopRequireDefault(_stepper3);\n\nvar _mergeDiff = require('./mergeDiff');\n\nvar _mergeDiff2 = _interopRequireDefault(_mergeDiff);\n\nvar _performanceNow = require('performance-now');\n\nvar _performanceNow2 = _interopRequireDefault(_performanceNow);\n\nvar _raf = require('raf');\n\nvar _raf2 = _interopRequireDefault(_raf);\n\nvar _shouldStopAnimation = require('./shouldStopAnimation');\n\nvar _shouldStopAnimation2 = _interopRequireDefault(_shouldStopAnimation);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar msPerFrame = 1000 / 60; // the children function & (potential) styles function asks as param an\n// Array<TransitionPlainStyle>, where each TransitionPlainStyle is of the format\n// {key: string, data?: any, style: PlainStyle}. However, the way we keep\n// internal states doesn't contain such a data structure (check the state and\n// TransitionMotionState). So when children function and others ask for such\n// data we need to generate them on the fly by combining mergedPropsStyles and\n// currentStyles/lastIdealStyles\n\nfunction rehydrateStyles(mergedPropsStyles, unreadPropStyles, plainStyles) {\n  // Copy the value to a `const` so that Flow understands that the const won't\n  // change and will be non-nullable in the callback below.\n  var cUnreadPropStyles = unreadPropStyles;\n\n  if (cUnreadPropStyles == null) {\n    return mergedPropsStyles.map(function (mergedPropsStyle, i) {\n      return {\n        key: mergedPropsStyle.key,\n        data: mergedPropsStyle.data,\n        style: plainStyles[i]\n      };\n    });\n  }\n\n  return mergedPropsStyles.map(function (mergedPropsStyle, i) {\n    for (var j = 0; j < cUnreadPropStyles.length; j++) {\n      if (cUnreadPropStyles[j].key === mergedPropsStyle.key) {\n        return {\n          key: cUnreadPropStyles[j].key,\n          data: cUnreadPropStyles[j].data,\n          style: plainStyles[i]\n        };\n      }\n    }\n\n    return {\n      key: mergedPropsStyle.key,\n      data: mergedPropsStyle.data,\n      style: plainStyles[i]\n    };\n  });\n}\n\nfunction shouldStopAnimationAll(currentStyles, destStyles, currentVelocities, mergedPropsStyles) {\n  if (mergedPropsStyles.length !== destStyles.length) {\n    return false;\n  }\n\n  for (var i = 0; i < mergedPropsStyles.length; i++) {\n    if (mergedPropsStyles[i].key !== destStyles[i].key) {\n      return false;\n    }\n  } // we have the invariant that mergedPropsStyles and\n  // currentStyles/currentVelocities/last* are synced in terms of cells, see\n  // mergeAndSync comment for more info\n\n\n  for (var i = 0; i < mergedPropsStyles.length; i++) {\n    if (!_shouldStopAnimation2['default'](currentStyles[i], destStyles[i].style, currentVelocities[i])) {\n      return false;\n    }\n  }\n\n  return true;\n} // core key merging logic\n// things to do: say previously merged style is {a, b}, dest style (prop) is {b,\n// c}, previous current (interpolating) style is {a, b}\n// **invariant**: current[i] corresponds to merged[i] in terms of key\n// steps:\n// turn merged style into {a?, b, c}\n//    add c, value of c is destStyles.c\n//    maybe remove a, aka call willLeave(a), then merged is either {b, c} or {a, b, c}\n// turn current (interpolating) style from {a, b} into {a?, b, c}\n//    maybe remove a\n//    certainly add c, value of c is willEnter(c)\n// loop over merged and construct new current\n// dest doesn't change, that's owner's\n\n\nfunction mergeAndSync(willEnter, willLeave, didLeave, oldMergedPropsStyles, destStyles, oldCurrentStyles, oldCurrentVelocities, oldLastIdealStyles, oldLastIdealVelocities) {\n  var newMergedPropsStyles = _mergeDiff2['default'](oldMergedPropsStyles, destStyles, function (oldIndex, oldMergedPropsStyle) {\n    var leavingStyle = willLeave(oldMergedPropsStyle);\n\n    if (leavingStyle == null) {\n      didLeave({\n        key: oldMergedPropsStyle.key,\n        data: oldMergedPropsStyle.data\n      });\n      return null;\n    }\n\n    if (_shouldStopAnimation2['default'](oldCurrentStyles[oldIndex], leavingStyle, oldCurrentVelocities[oldIndex])) {\n      didLeave({\n        key: oldMergedPropsStyle.key,\n        data: oldMergedPropsStyle.data\n      });\n      return null;\n    }\n\n    return {\n      key: oldMergedPropsStyle.key,\n      data: oldMergedPropsStyle.data,\n      style: leavingStyle\n    };\n  });\n\n  var newCurrentStyles = [];\n  var newCurrentVelocities = [];\n  var newLastIdealStyles = [];\n  var newLastIdealVelocities = [];\n\n  for (var i = 0; i < newMergedPropsStyles.length; i++) {\n    var newMergedPropsStyleCell = newMergedPropsStyles[i];\n    var foundOldIndex = null;\n\n    for (var j = 0; j < oldMergedPropsStyles.length; j++) {\n      if (oldMergedPropsStyles[j].key === newMergedPropsStyleCell.key) {\n        foundOldIndex = j;\n        break;\n      }\n    } // TODO: key search code\n\n\n    if (foundOldIndex == null) {\n      var plainStyle = willEnter(newMergedPropsStyleCell);\n      newCurrentStyles[i] = plainStyle;\n      newLastIdealStyles[i] = plainStyle;\n\n      var velocity = _mapToZero2['default'](newMergedPropsStyleCell.style);\n\n      newCurrentVelocities[i] = velocity;\n      newLastIdealVelocities[i] = velocity;\n    } else {\n      newCurrentStyles[i] = oldCurrentStyles[foundOldIndex];\n      newLastIdealStyles[i] = oldLastIdealStyles[foundOldIndex];\n      newCurrentVelocities[i] = oldCurrentVelocities[foundOldIndex];\n      newLastIdealVelocities[i] = oldLastIdealVelocities[foundOldIndex];\n    }\n  }\n\n  return [newMergedPropsStyles, newCurrentStyles, newCurrentVelocities, newLastIdealStyles, newLastIdealVelocities];\n}\n\nvar TransitionMotion = function (_React$Component) {\n  _inherits(TransitionMotion, _React$Component);\n\n  _createClass(TransitionMotion, null, [{\n    key: 'propTypes',\n    value: {\n      defaultStyles: _propTypes2['default'].arrayOf(_propTypes2['default'].shape({\n        key: _propTypes2['default'].string.isRequired,\n        data: _propTypes2['default'].any,\n        style: _propTypes2['default'].objectOf(_propTypes2['default'].number).isRequired\n      })),\n      styles: _propTypes2['default'].oneOfType([_propTypes2['default'].func, _propTypes2['default'].arrayOf(_propTypes2['default'].shape({\n        key: _propTypes2['default'].string.isRequired,\n        data: _propTypes2['default'].any,\n        style: _propTypes2['default'].objectOf(_propTypes2['default'].oneOfType([_propTypes2['default'].number, _propTypes2['default'].object])).isRequired\n      }))]).isRequired,\n      children: _propTypes2['default'].func.isRequired,\n      willEnter: _propTypes2['default'].func,\n      willLeave: _propTypes2['default'].func,\n      didLeave: _propTypes2['default'].func\n    },\n    enumerable: true\n  }, {\n    key: 'defaultProps',\n    value: {\n      willEnter: function willEnter(styleThatEntered) {\n        return _stripStyle2['default'](styleThatEntered.style);\n      },\n      // recall: returning null makes the current unmounting TransitionStyle\n      // disappear immediately\n      willLeave: function willLeave() {\n        return null;\n      },\n      didLeave: function didLeave() {}\n    },\n    enumerable: true\n  }]);\n\n  function TransitionMotion(props) {\n    var _this = this;\n\n    _classCallCheck(this, TransitionMotion);\n\n    _React$Component.call(this, props);\n\n    this.unmounting = false;\n    this.animationID = null;\n    this.prevTime = 0;\n    this.accumulatedTime = 0;\n    this.unreadPropStyles = null;\n\n    this.clearUnreadPropStyle = function (unreadPropStyles) {\n      var _mergeAndSync = mergeAndSync(_this.props.willEnter, _this.props.willLeave, _this.props.didLeave, _this.state.mergedPropsStyles, unreadPropStyles, _this.state.currentStyles, _this.state.currentVelocities, _this.state.lastIdealStyles, _this.state.lastIdealVelocities);\n\n      var mergedPropsStyles = _mergeAndSync[0];\n      var currentStyles = _mergeAndSync[1];\n      var currentVelocities = _mergeAndSync[2];\n      var lastIdealStyles = _mergeAndSync[3];\n      var lastIdealVelocities = _mergeAndSync[4];\n\n      for (var i = 0; i < unreadPropStyles.length; i++) {\n        var unreadPropStyle = unreadPropStyles[i].style;\n        var dirty = false;\n\n        for (var key in unreadPropStyle) {\n          if (!Object.prototype.hasOwnProperty.call(unreadPropStyle, key)) {\n            continue;\n          }\n\n          var styleValue = unreadPropStyle[key];\n\n          if (typeof styleValue === 'number') {\n            if (!dirty) {\n              dirty = true;\n              currentStyles[i] = _extends({}, currentStyles[i]);\n              currentVelocities[i] = _extends({}, currentVelocities[i]);\n              lastIdealStyles[i] = _extends({}, lastIdealStyles[i]);\n              lastIdealVelocities[i] = _extends({}, lastIdealVelocities[i]);\n              mergedPropsStyles[i] = {\n                key: mergedPropsStyles[i].key,\n                data: mergedPropsStyles[i].data,\n                style: _extends({}, mergedPropsStyles[i].style)\n              };\n            }\n\n            currentStyles[i][key] = styleValue;\n            currentVelocities[i][key] = 0;\n            lastIdealStyles[i][key] = styleValue;\n            lastIdealVelocities[i][key] = 0;\n            mergedPropsStyles[i].style[key] = styleValue;\n          }\n        }\n      } // unlike the other 2 components, we can't detect staleness and optionally\n      // opt out of setState here. each style object's data might contain new\n      // stuff we're not/cannot compare\n\n\n      _this.setState({\n        currentStyles: currentStyles,\n        currentVelocities: currentVelocities,\n        mergedPropsStyles: mergedPropsStyles,\n        lastIdealStyles: lastIdealStyles,\n        lastIdealVelocities: lastIdealVelocities\n      });\n    };\n\n    this.startAnimationIfNecessary = function () {\n      if (_this.unmounting) {\n        return;\n      } // TODO: when config is {a: 10} and dest is {a: 10} do we raf once and\n      // call cb? No, otherwise accidental parent rerender causes cb trigger\n\n\n      _this.animationID = _raf2['default'](function (timestamp) {\n        // https://github.com/chenglou/react-motion/pull/420\n        // > if execution passes the conditional if (this.unmounting), then\n        // executes async defaultRaf and after that component unmounts and after\n        // that the callback of defaultRaf is called, then setState will be called\n        // on unmounted component.\n        if (_this.unmounting) {\n          return;\n        }\n\n        var propStyles = _this.props.styles;\n        var destStyles = typeof propStyles === 'function' ? propStyles(rehydrateStyles(_this.state.mergedPropsStyles, _this.unreadPropStyles, _this.state.lastIdealStyles)) : propStyles; // check if we need to animate in the first place\n\n        if (shouldStopAnimationAll(_this.state.currentStyles, destStyles, _this.state.currentVelocities, _this.state.mergedPropsStyles)) {\n          // no need to cancel animationID here; shouldn't have any in flight\n          _this.animationID = null;\n          _this.accumulatedTime = 0;\n          return;\n        }\n\n        var currentTime = timestamp || _performanceNow2['default']();\n\n        var timeDelta = currentTime - _this.prevTime;\n        _this.prevTime = currentTime;\n        _this.accumulatedTime = _this.accumulatedTime + timeDelta; // more than 10 frames? prolly switched browser tab. Restart\n\n        if (_this.accumulatedTime > msPerFrame * 10) {\n          _this.accumulatedTime = 0;\n        }\n\n        if (_this.accumulatedTime === 0) {\n          // no need to cancel animationID here; shouldn't have any in flight\n          _this.animationID = null;\n\n          _this.startAnimationIfNecessary();\n\n          return;\n        }\n\n        var currentFrameCompletion = (_this.accumulatedTime - Math.floor(_this.accumulatedTime / msPerFrame) * msPerFrame) / msPerFrame;\n        var framesToCatchUp = Math.floor(_this.accumulatedTime / msPerFrame);\n\n        var _mergeAndSync2 = mergeAndSync(_this.props.willEnter, _this.props.willLeave, _this.props.didLeave, _this.state.mergedPropsStyles, destStyles, _this.state.currentStyles, _this.state.currentVelocities, _this.state.lastIdealStyles, _this.state.lastIdealVelocities);\n\n        var newMergedPropsStyles = _mergeAndSync2[0];\n        var newCurrentStyles = _mergeAndSync2[1];\n        var newCurrentVelocities = _mergeAndSync2[2];\n        var newLastIdealStyles = _mergeAndSync2[3];\n        var newLastIdealVelocities = _mergeAndSync2[4];\n\n        for (var i = 0; i < newMergedPropsStyles.length; i++) {\n          var newMergedPropsStyle = newMergedPropsStyles[i].style;\n          var newCurrentStyle = {};\n          var newCurrentVelocity = {};\n          var newLastIdealStyle = {};\n          var newLastIdealVelocity = {};\n\n          for (var key in newMergedPropsStyle) {\n            if (!Object.prototype.hasOwnProperty.call(newMergedPropsStyle, key)) {\n              continue;\n            }\n\n            var styleValue = newMergedPropsStyle[key];\n\n            if (typeof styleValue === 'number') {\n              newCurrentStyle[key] = styleValue;\n              newCurrentVelocity[key] = 0;\n              newLastIdealStyle[key] = styleValue;\n              newLastIdealVelocity[key] = 0;\n            } else {\n              var newLastIdealStyleValue = newLastIdealStyles[i][key];\n              var newLastIdealVelocityValue = newLastIdealVelocities[i][key];\n\n              for (var j = 0; j < framesToCatchUp; j++) {\n                var _stepper = _stepper4['default'](msPerFrame / 1000, newLastIdealStyleValue, newLastIdealVelocityValue, styleValue.val, styleValue.stiffness, styleValue.damping, styleValue.precision);\n\n                newLastIdealStyleValue = _stepper[0];\n                newLastIdealVelocityValue = _stepper[1];\n              }\n\n              var _stepper2 = _stepper4['default'](msPerFrame / 1000, newLastIdealStyleValue, newLastIdealVelocityValue, styleValue.val, styleValue.stiffness, styleValue.damping, styleValue.precision);\n\n              var nextIdealX = _stepper2[0];\n              var nextIdealV = _stepper2[1];\n              newCurrentStyle[key] = newLastIdealStyleValue + (nextIdealX - newLastIdealStyleValue) * currentFrameCompletion;\n              newCurrentVelocity[key] = newLastIdealVelocityValue + (nextIdealV - newLastIdealVelocityValue) * currentFrameCompletion;\n              newLastIdealStyle[key] = newLastIdealStyleValue;\n              newLastIdealVelocity[key] = newLastIdealVelocityValue;\n            }\n          }\n\n          newLastIdealStyles[i] = newLastIdealStyle;\n          newLastIdealVelocities[i] = newLastIdealVelocity;\n          newCurrentStyles[i] = newCurrentStyle;\n          newCurrentVelocities[i] = newCurrentVelocity;\n        }\n\n        _this.animationID = null; // the amount we're looped over above\n\n        _this.accumulatedTime -= framesToCatchUp * msPerFrame;\n\n        _this.setState({\n          currentStyles: newCurrentStyles,\n          currentVelocities: newCurrentVelocities,\n          lastIdealStyles: newLastIdealStyles,\n          lastIdealVelocities: newLastIdealVelocities,\n          mergedPropsStyles: newMergedPropsStyles\n        });\n\n        _this.unreadPropStyles = null;\n\n        _this.startAnimationIfNecessary();\n      });\n    };\n\n    this.state = this.defaultState();\n  }\n\n  TransitionMotion.prototype.defaultState = function defaultState() {\n    var _props = this.props;\n    var defaultStyles = _props.defaultStyles;\n    var styles = _props.styles;\n    var willEnter = _props.willEnter;\n    var willLeave = _props.willLeave;\n    var didLeave = _props.didLeave;\n    var destStyles = typeof styles === 'function' ? styles(defaultStyles) : styles; // this is special. for the first time around, we don't have a comparison\n    // between last (no last) and current merged props. we'll compute last so:\n    // say default is {a, b} and styles (dest style) is {b, c}, we'll\n    // fabricate last as {a, b}\n\n    var oldMergedPropsStyles = undefined;\n\n    if (defaultStyles == null) {\n      oldMergedPropsStyles = destStyles;\n    } else {\n      oldMergedPropsStyles = defaultStyles.map(function (defaultStyleCell) {\n        // TODO: key search code\n        for (var i = 0; i < destStyles.length; i++) {\n          if (destStyles[i].key === defaultStyleCell.key) {\n            return destStyles[i];\n          }\n        }\n\n        return defaultStyleCell;\n      });\n    }\n\n    var oldCurrentStyles = defaultStyles == null ? destStyles.map(function (s) {\n      return _stripStyle2['default'](s.style);\n    }) : defaultStyles.map(function (s) {\n      return _stripStyle2['default'](s.style);\n    });\n    var oldCurrentVelocities = defaultStyles == null ? destStyles.map(function (s) {\n      return _mapToZero2['default'](s.style);\n    }) : defaultStyles.map(function (s) {\n      return _mapToZero2['default'](s.style);\n    });\n\n    var _mergeAndSync3 = mergeAndSync( // Because this is an old-style createReactClass component, Flow doesn't\n    // understand that the willEnter and willLeave props have default values\n    // and will always be present.\n    willEnter, willLeave, didLeave, oldMergedPropsStyles, destStyles, oldCurrentStyles, oldCurrentVelocities, oldCurrentStyles, // oldLastIdealStyles really\n    oldCurrentVelocities);\n\n    var mergedPropsStyles = _mergeAndSync3[0];\n    var currentStyles = _mergeAndSync3[1];\n    var currentVelocities = _mergeAndSync3[2];\n    var lastIdealStyles = _mergeAndSync3[3];\n    var lastIdealVelocities = _mergeAndSync3[4]; // oldLastIdealVelocities really\n\n    return {\n      currentStyles: currentStyles,\n      currentVelocities: currentVelocities,\n      lastIdealStyles: lastIdealStyles,\n      lastIdealVelocities: lastIdealVelocities,\n      mergedPropsStyles: mergedPropsStyles\n    };\n  }; // after checking for unreadPropStyles != null, we manually go set the\n  // non-interpolating values (those that are a number, without a spring\n  // config)\n\n\n  TransitionMotion.prototype.componentDidMount = function componentDidMount() {\n    this.prevTime = _performanceNow2['default']();\n    this.startAnimationIfNecessary();\n  };\n\n  TransitionMotion.prototype.componentWillReceiveProps = function componentWillReceiveProps(props) {\n    if (this.unreadPropStyles) {\n      // previous props haven't had the chance to be set yet; set them here\n      this.clearUnreadPropStyle(this.unreadPropStyles);\n    }\n\n    var styles = props.styles;\n\n    if (typeof styles === 'function') {\n      this.unreadPropStyles = styles(rehydrateStyles(this.state.mergedPropsStyles, this.unreadPropStyles, this.state.lastIdealStyles));\n    } else {\n      this.unreadPropStyles = styles;\n    }\n\n    if (this.animationID == null) {\n      this.prevTime = _performanceNow2['default']();\n      this.startAnimationIfNecessary();\n    }\n  };\n\n  TransitionMotion.prototype.componentWillUnmount = function componentWillUnmount() {\n    this.unmounting = true;\n\n    if (this.animationID != null) {\n      _raf2['default'].cancel(this.animationID);\n\n      this.animationID = null;\n    }\n  };\n\n  TransitionMotion.prototype.render = function render() {\n    var hydratedStyles = rehydrateStyles(this.state.mergedPropsStyles, this.unreadPropStyles, this.state.currentStyles);\n    var renderedChildren = this.props.children(hydratedStyles);\n    return renderedChildren && _react2['default'].Children.only(renderedChildren);\n  };\n\n  return TransitionMotion;\n}(_react2['default'].Component);\n\nexports['default'] = TransitionMotion;\nmodule.exports = exports['default']; // list of styles, each containing interpolating values. Part of what's passed\n// to children function. Notice that this is\n// Array<ActualInterpolatingStyleObject>, without the wrapper that is {key: ...,\n// data: ... style: ActualInterpolatingStyleObject}. Only mergedPropsStyles\n// contains the key & data info (so that we only have a single source of truth\n// for these, and to save space). Check the comment for `rehydrateStyles` to\n// see how we regenerate the entirety of what's passed to children function\n// the array that keeps track of currently rendered stuff! Including stuff\n// that you've unmounted but that's still animating. This is where it lives\n// it's possible that currentStyle's value is stale: if props is immediately\n// changed from 0 to 400 to spring(0) again, the async currentStyle is still\n// at 0 (didn't have time to tick and interpolate even once). If we naively\n// compare currentStyle with destVal it'll be 0 === 0 (no animation, stop).\n// In reality currentStyle should be 400","// core keys merging algorithm. If previous render's keys are [a, b], and the\n// next render's [c, b, d], what's the final merged keys and ordering?\n// - c and a must both be before b\n// - b before d\n// - ordering between a and c ambiguous\n// this reduces to merging two partially ordered lists (e.g. lists where not\n// every item has a definite ordering, like comparing a and c above). For the\n// ambiguous ordering we deterministically choose to place the next render's\n// item after the previous'; so c after a\n// this is called a topological sorting. Except the existing algorithms don't\n// work well with js bc of the amount of allocation, and isn't optimized for our\n// current use-case bc the runtime is linear in terms of edges (see wiki for\n// meaning), which is huge when two lists have many common elements\n'use strict';\n\nexports.__esModule = true;\nexports['default'] = mergeDiff;\n\nfunction mergeDiff(prev, next, onRemove) {\n  // bookkeeping for easier access of a key's index below. This is 2 allocations +\n  // potentially triggering chrome hash map mode for objs (so it might be faster\n  var prevKeyIndex = {};\n\n  for (var i = 0; i < prev.length; i++) {\n    prevKeyIndex[prev[i].key] = i;\n  }\n\n  var nextKeyIndex = {};\n\n  for (var i = 0; i < next.length; i++) {\n    nextKeyIndex[next[i].key] = i;\n  } // first, an overly elaborate way of merging prev and next, eliminating\n  // duplicates (in terms of keys). If there's dupe, keep the item in next).\n  // This way of writing it saves allocations\n\n\n  var ret = [];\n\n  for (var i = 0; i < next.length; i++) {\n    ret[i] = next[i];\n  }\n\n  for (var i = 0; i < prev.length; i++) {\n    if (!Object.prototype.hasOwnProperty.call(nextKeyIndex, prev[i].key)) {\n      // this is called my TM's `mergeAndSync`, which calls willLeave. We don't\n      // merge in keys that the user desires to kill\n      var fill = onRemove(i, prev[i]);\n\n      if (fill != null) {\n        ret.push(fill);\n      }\n    }\n  } // now all the items all present. Core sorting logic to have the right order\n\n\n  return ret.sort(function (a, b) {\n    var nextOrderA = nextKeyIndex[a.key];\n    var nextOrderB = nextKeyIndex[b.key];\n    var prevOrderA = prevKeyIndex[a.key];\n    var prevOrderB = prevKeyIndex[b.key];\n\n    if (nextOrderA != null && nextOrderB != null) {\n      // both keys in next\n      return nextKeyIndex[a.key] - nextKeyIndex[b.key];\n    } else if (prevOrderA != null && prevOrderB != null) {\n      // both keys in prev\n      return prevKeyIndex[a.key] - prevKeyIndex[b.key];\n    } else if (nextOrderA != null) {\n      // key a in next, key b in prev\n      // how to determine the order between a and b? We find a \"pivot\" (term\n      // abuse), a key present in both prev and next, that is sandwiched between\n      // a and b. In the context of our above example, if we're comparing a and\n      // d, b's (the only) pivot\n      for (var i = 0; i < next.length; i++) {\n        var pivot = next[i].key;\n\n        if (!Object.prototype.hasOwnProperty.call(prevKeyIndex, pivot)) {\n          continue;\n        }\n\n        if (nextOrderA < nextKeyIndex[pivot] && prevOrderB > prevKeyIndex[pivot]) {\n          return -1;\n        } else if (nextOrderA > nextKeyIndex[pivot] && prevOrderB < prevKeyIndex[pivot]) {\n          return 1;\n        }\n      } // pluggable. default to: next bigger than prev\n\n\n      return 1;\n    } // prevOrderA, nextOrderB\n\n\n    for (var i = 0; i < next.length; i++) {\n      var pivot = next[i].key;\n\n      if (!Object.prototype.hasOwnProperty.call(prevKeyIndex, pivot)) {\n        continue;\n      }\n\n      if (nextOrderB < nextKeyIndex[pivot] && prevOrderA > prevKeyIndex[pivot]) {\n        return 1;\n      } else if (nextOrderB > nextKeyIndex[pivot] && prevOrderA < prevKeyIndex[pivot]) {\n        return -1;\n      }\n    } // pluggable. default to: next bigger than prev\n\n\n    return -1;\n  });\n}\n\nmodule.exports = exports['default']; // to loop through and find a key's index each time), but I no longer care","'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nexports['default'] = spring;\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    'default': obj\n  };\n}\n\nvar _presets = require('./presets');\n\nvar _presets2 = _interopRequireDefault(_presets);\n\nvar defaultConfig = _extends({}, _presets2['default'].noWobble, {\n  precision: 0.01\n});\n\nfunction spring(val, config) {\n  return _extends({}, defaultConfig, config, {\n    val: val\n  });\n}\n\nmodule.exports = exports['default'];","'use strict';\n\nexports.__esModule = true;\nexports['default'] = reorderKeys;\nvar hasWarned = false;\n\nfunction reorderKeys() {\n  if (process.env.NODE_ENV === 'development') {\n    if (!hasWarned) {\n      hasWarned = true;\n      console.error('`reorderKeys` has been removed, since it is no longer needed for TransitionMotion\\'s new styles array API.');\n    }\n  }\n}\n\nmodule.exports = exports['default'];","import PropTypes from 'prop-types';\nimport React from 'react';\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n} // require('hammerjs') when in a browser. This is safe because Hammer is only\n// invoked in componentDidMount, which is not executed on the server.\n\n\nvar Hammer = typeof window !== 'undefined' ? require('hammerjs') : undefined;\nvar privateProps = {\n  children: true,\n  direction: true,\n  options: true,\n  recognizeWith: true,\n  vertical: true\n};\n/**\n * Hammer Component\n * ================\n */\n\nvar handlerToEvent = {\n  action: 'tap press',\n  onDoubleTap: 'doubletap',\n  onPan: 'pan',\n  onPanCancel: 'pancancel',\n  onPanEnd: 'panend',\n  onPanStart: 'panstart',\n  onPinch: 'pinch',\n  onPinchCancel: 'pinchcancel',\n  onPinchEnd: 'pinchend',\n  onPinchIn: 'pinchin',\n  onPinchOut: 'pinchout',\n  onPinchStart: 'pinchstart',\n  onPress: 'press',\n  onPressUp: 'pressup',\n  onRotate: 'rotate',\n  onRotateCancel: 'rotatecancel',\n  onRotateEnd: 'rotateend',\n  onRotateMove: 'rotatemove',\n  onRotateStart: 'rotatestart',\n  onSwipe: 'swipe',\n  onSwipeRight: 'swiperight',\n  onSwipeLeft: 'swipeleft',\n  onSwipeUp: 'swipeup',\n  onSwipeDown: 'swipedown',\n  onTap: 'tap'\n};\nObject.keys(handlerToEvent).forEach(function (i) {\n  privateProps[i] = true;\n});\n\nfunction updateHammer(hammer, props) {\n  if (props.hasOwnProperty('vertical')) {\n    console.warn('vertical is deprecated, please use `direction` instead');\n  }\n\n  var directionProp = props.direction;\n\n  if (directionProp || props.hasOwnProperty('vertical')) {\n    var direction = directionProp ? directionProp : props.vertical ? 'DIRECTION_ALL' : 'DIRECTION_HORIZONTAL';\n    hammer.get('pan').set({\n      direction: Hammer[direction]\n    });\n    hammer.get('swipe').set({\n      direction: Hammer[direction]\n    });\n  }\n\n  if (props.options) {\n    Object.keys(props.options).forEach(function (option) {\n      if (option === 'recognizers') {\n        Object.keys(props.options.recognizers).forEach(function (gesture) {\n          var recognizer = hammer.get(gesture);\n          recognizer.set(props.options.recognizers[gesture]);\n\n          if (props.options.recognizers[gesture].requireFailure) {\n            recognizer.requireFailure(props.options.recognizers[gesture].requireFailure);\n          }\n        }, this);\n      } else {\n        var key = option;\n        var optionObj = {};\n        optionObj[key] = props.options[option];\n        hammer.set(optionObj);\n      }\n    }, this);\n  }\n\n  if (props.recognizeWith) {\n    Object.keys(props.recognizeWith).forEach(function (gesture) {\n      var recognizer = hammer.get(gesture);\n      recognizer.recognizeWith(props.recognizeWith[gesture]);\n    }, this);\n  }\n\n  Object.keys(props).forEach(function (p) {\n    var e = handlerToEvent[p];\n\n    if (e) {\n      hammer.off(e);\n      hammer.on(e, props[p]);\n    }\n  });\n}\n\nvar HammerComponent = function (_React$Component) {\n  _inherits(HammerComponent, _React$Component);\n\n  function HammerComponent() {\n    _classCallCheck(this, HammerComponent);\n\n    return _possibleConstructorReturn(this, (HammerComponent.__proto__ || Object.getPrototypeOf(HammerComponent)).apply(this, arguments));\n  }\n\n  _createClass(HammerComponent, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.hammer = new Hammer(this.domElement);\n      updateHammer(this.hammer, this.props);\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate() {\n      if (this.hammer) {\n        updateHammer(this.hammer, this.props);\n      }\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      if (this.hammer) {\n        this.hammer.stop();\n        this.hammer.destroy();\n      }\n\n      this.hammer = null;\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var props = {};\n      Object.keys(this.props).forEach(function (i) {\n        if (!privateProps[i]) {\n          props[i] = this.props[i];\n        }\n      }, this);\n      var self = this;\n\n      props.ref = function (domElement) {\n        if (self.props.ref) {\n          self.props.ref(domElement);\n        }\n\n        self.domElement = domElement;\n      }; // Reuse the child provided\n      // This makes it flexible to use whatever element is wanted (div, ul, etc)\n\n\n      return React.cloneElement(React.Children.only(this.props.children), props);\n    }\n  }]);\n\n  return HammerComponent;\n}(React.Component);\n\nHammerComponent.displayName = 'Hammer';\nHammerComponent.propTypes = {\n  className: PropTypes.string\n};\nexport default HammerComponent;","/*! Hammer.JS - v2.0.7 - 2016-04-22\n * http://hammerjs.github.io/\n *\n * Copyright (c) 2016 Jorik Tangelder;\n * Licensed under the MIT license */\n(function (window, document, exportName, undefined) {\n  'use strict';\n\n  var VENDOR_PREFIXES = ['', 'webkit', 'Moz', 'MS', 'ms', 'o'];\n  var TEST_ELEMENT = document.createElement('div');\n  var TYPE_FUNCTION = 'function';\n  var round = Math.round;\n  var abs = Math.abs;\n  var now = Date.now;\n  /**\n   * set a timeout with a given scope\n   * @param {Function} fn\n   * @param {Number} timeout\n   * @param {Object} context\n   * @returns {number}\n   */\n\n  function setTimeoutContext(fn, timeout, context) {\n    return setTimeout(bindFn(fn, context), timeout);\n  }\n  /**\n   * if the argument is an array, we want to execute the fn on each entry\n   * if it aint an array we don't want to do a thing.\n   * this is used by all the methods that accept a single and array argument.\n   * @param {*|Array} arg\n   * @param {String} fn\n   * @param {Object} [context]\n   * @returns {Boolean}\n   */\n\n\n  function invokeArrayArg(arg, fn, context) {\n    if (Array.isArray(arg)) {\n      each(arg, context[fn], context);\n      return true;\n    }\n\n    return false;\n  }\n  /**\n   * walk objects and arrays\n   * @param {Object} obj\n   * @param {Function} iterator\n   * @param {Object} context\n   */\n\n\n  function each(obj, iterator, context) {\n    var i;\n\n    if (!obj) {\n      return;\n    }\n\n    if (obj.forEach) {\n      obj.forEach(iterator, context);\n    } else if (obj.length !== undefined) {\n      i = 0;\n\n      while (i < obj.length) {\n        iterator.call(context, obj[i], i, obj);\n        i++;\n      }\n    } else {\n      for (i in obj) {\n        obj.hasOwnProperty(i) && iterator.call(context, obj[i], i, obj);\n      }\n    }\n  }\n  /**\n   * wrap a method with a deprecation warning and stack trace\n   * @param {Function} method\n   * @param {String} name\n   * @param {String} message\n   * @returns {Function} A new function wrapping the supplied method.\n   */\n\n\n  function deprecate(method, name, message) {\n    var deprecationMessage = 'DEPRECATED METHOD: ' + name + '\\n' + message + ' AT \\n';\n    return function () {\n      var e = new Error('get-stack-trace');\n      var stack = e && e.stack ? e.stack.replace(/^[^\\(]+?[\\n$]/gm, '').replace(/^\\s+at\\s+/gm, '').replace(/^Object.<anonymous>\\s*\\(/gm, '{anonymous}()@') : 'Unknown Stack Trace';\n      var log = window.console && (window.console.warn || window.console.log);\n\n      if (log) {\n        log.call(window.console, deprecationMessage, stack);\n      }\n\n      return method.apply(this, arguments);\n    };\n  }\n  /**\n   * extend object.\n   * means that properties in dest will be overwritten by the ones in src.\n   * @param {Object} target\n   * @param {...Object} objects_to_assign\n   * @returns {Object} target\n   */\n\n\n  var assign;\n\n  if (typeof Object.assign !== 'function') {\n    assign = function assign(target) {\n      if (target === undefined || target === null) {\n        throw new TypeError('Cannot convert undefined or null to object');\n      }\n\n      var output = Object(target);\n\n      for (var index = 1; index < arguments.length; index++) {\n        var source = arguments[index];\n\n        if (source !== undefined && source !== null) {\n          for (var nextKey in source) {\n            if (source.hasOwnProperty(nextKey)) {\n              output[nextKey] = source[nextKey];\n            }\n          }\n        }\n      }\n\n      return output;\n    };\n  } else {\n    assign = Object.assign;\n  }\n  /**\n   * extend object.\n   * means that properties in dest will be overwritten by the ones in src.\n   * @param {Object} dest\n   * @param {Object} src\n   * @param {Boolean} [merge=false]\n   * @returns {Object} dest\n   */\n\n\n  var extend = deprecate(function extend(dest, src, merge) {\n    var keys = Object.keys(src);\n    var i = 0;\n\n    while (i < keys.length) {\n      if (!merge || merge && dest[keys[i]] === undefined) {\n        dest[keys[i]] = src[keys[i]];\n      }\n\n      i++;\n    }\n\n    return dest;\n  }, 'extend', 'Use `assign`.');\n  /**\n   * merge the values from src in the dest.\n   * means that properties that exist in dest will not be overwritten by src\n   * @param {Object} dest\n   * @param {Object} src\n   * @returns {Object} dest\n   */\n\n  var merge = deprecate(function merge(dest, src) {\n    return extend(dest, src, true);\n  }, 'merge', 'Use `assign`.');\n  /**\n   * simple class inheritance\n   * @param {Function} child\n   * @param {Function} base\n   * @param {Object} [properties]\n   */\n\n  function inherit(child, base, properties) {\n    var baseP = base.prototype,\n        childP;\n    childP = child.prototype = Object.create(baseP);\n    childP.constructor = child;\n    childP._super = baseP;\n\n    if (properties) {\n      assign(childP, properties);\n    }\n  }\n  /**\n   * simple function bind\n   * @param {Function} fn\n   * @param {Object} context\n   * @returns {Function}\n   */\n\n\n  function bindFn(fn, context) {\n    return function boundFn() {\n      return fn.apply(context, arguments);\n    };\n  }\n  /**\n   * let a boolean value also be a function that must return a boolean\n   * this first item in args will be used as the context\n   * @param {Boolean|Function} val\n   * @param {Array} [args]\n   * @returns {Boolean}\n   */\n\n\n  function boolOrFn(val, args) {\n    if (typeof val == TYPE_FUNCTION) {\n      return val.apply(args ? args[0] || undefined : undefined, args);\n    }\n\n    return val;\n  }\n  /**\n   * use the val2 when val1 is undefined\n   * @param {*} val1\n   * @param {*} val2\n   * @returns {*}\n   */\n\n\n  function ifUndefined(val1, val2) {\n    return val1 === undefined ? val2 : val1;\n  }\n  /**\n   * addEventListener with multiple events at once\n   * @param {EventTarget} target\n   * @param {String} types\n   * @param {Function} handler\n   */\n\n\n  function addEventListeners(target, types, handler) {\n    each(splitStr(types), function (type) {\n      target.addEventListener(type, handler, false);\n    });\n  }\n  /**\n   * removeEventListener with multiple events at once\n   * @param {EventTarget} target\n   * @param {String} types\n   * @param {Function} handler\n   */\n\n\n  function removeEventListeners(target, types, handler) {\n    each(splitStr(types), function (type) {\n      target.removeEventListener(type, handler, false);\n    });\n  }\n  /**\n   * find if a node is in the given parent\n   * @method hasParent\n   * @param {HTMLElement} node\n   * @param {HTMLElement} parent\n   * @return {Boolean} found\n   */\n\n\n  function hasParent(node, parent) {\n    while (node) {\n      if (node == parent) {\n        return true;\n      }\n\n      node = node.parentNode;\n    }\n\n    return false;\n  }\n  /**\n   * small indexOf wrapper\n   * @param {String} str\n   * @param {String} find\n   * @returns {Boolean} found\n   */\n\n\n  function inStr(str, find) {\n    return str.indexOf(find) > -1;\n  }\n  /**\n   * split string on whitespace\n   * @param {String} str\n   * @returns {Array} words\n   */\n\n\n  function splitStr(str) {\n    return str.trim().split(/\\s+/g);\n  }\n  /**\n   * find if a array contains the object using indexOf or a simple polyFill\n   * @param {Array} src\n   * @param {String} find\n   * @param {String} [findByKey]\n   * @return {Boolean|Number} false when not found, or the index\n   */\n\n\n  function inArray(src, find, findByKey) {\n    if (src.indexOf && !findByKey) {\n      return src.indexOf(find);\n    } else {\n      var i = 0;\n\n      while (i < src.length) {\n        if (findByKey && src[i][findByKey] == find || !findByKey && src[i] === find) {\n          return i;\n        }\n\n        i++;\n      }\n\n      return -1;\n    }\n  }\n  /**\n   * convert array-like objects to real arrays\n   * @param {Object} obj\n   * @returns {Array}\n   */\n\n\n  function toArray(obj) {\n    return Array.prototype.slice.call(obj, 0);\n  }\n  /**\n   * unique array with objects based on a key (like 'id') or just by the array's value\n   * @param {Array} src [{id:1},{id:2},{id:1}]\n   * @param {String} [key]\n   * @param {Boolean} [sort=False]\n   * @returns {Array} [{id:1},{id:2}]\n   */\n\n\n  function uniqueArray(src, key, sort) {\n    var results = [];\n    var values = [];\n    var i = 0;\n\n    while (i < src.length) {\n      var val = key ? src[i][key] : src[i];\n\n      if (inArray(values, val) < 0) {\n        results.push(src[i]);\n      }\n\n      values[i] = val;\n      i++;\n    }\n\n    if (sort) {\n      if (!key) {\n        results = results.sort();\n      } else {\n        results = results.sort(function sortUniqueArray(a, b) {\n          return a[key] > b[key];\n        });\n      }\n    }\n\n    return results;\n  }\n  /**\n   * get the prefixed property\n   * @param {Object} obj\n   * @param {String} property\n   * @returns {String|Undefined} prefixed\n   */\n\n\n  function prefixed(obj, property) {\n    var prefix, prop;\n    var camelProp = property[0].toUpperCase() + property.slice(1);\n    var i = 0;\n\n    while (i < VENDOR_PREFIXES.length) {\n      prefix = VENDOR_PREFIXES[i];\n      prop = prefix ? prefix + camelProp : property;\n\n      if (prop in obj) {\n        return prop;\n      }\n\n      i++;\n    }\n\n    return undefined;\n  }\n  /**\n   * get a unique id\n   * @returns {number} uniqueId\n   */\n\n\n  var _uniqueId = 1;\n\n  function uniqueId() {\n    return _uniqueId++;\n  }\n  /**\n   * get the window object of an element\n   * @param {HTMLElement} element\n   * @returns {DocumentView|Window}\n   */\n\n\n  function getWindowForElement(element) {\n    var doc = element.ownerDocument || element;\n    return doc.defaultView || doc.parentWindow || window;\n  }\n\n  var MOBILE_REGEX = /mobile|tablet|ip(ad|hone|od)|android/i;\n  var SUPPORT_TOUCH = 'ontouchstart' in window;\n  var SUPPORT_POINTER_EVENTS = prefixed(window, 'PointerEvent') !== undefined;\n  var SUPPORT_ONLY_TOUCH = SUPPORT_TOUCH && MOBILE_REGEX.test(navigator.userAgent);\n  var INPUT_TYPE_TOUCH = 'touch';\n  var INPUT_TYPE_PEN = 'pen';\n  var INPUT_TYPE_MOUSE = 'mouse';\n  var INPUT_TYPE_KINECT = 'kinect';\n  var COMPUTE_INTERVAL = 25;\n  var INPUT_START = 1;\n  var INPUT_MOVE = 2;\n  var INPUT_END = 4;\n  var INPUT_CANCEL = 8;\n  var DIRECTION_NONE = 1;\n  var DIRECTION_LEFT = 2;\n  var DIRECTION_RIGHT = 4;\n  var DIRECTION_UP = 8;\n  var DIRECTION_DOWN = 16;\n  var DIRECTION_HORIZONTAL = DIRECTION_LEFT | DIRECTION_RIGHT;\n  var DIRECTION_VERTICAL = DIRECTION_UP | DIRECTION_DOWN;\n  var DIRECTION_ALL = DIRECTION_HORIZONTAL | DIRECTION_VERTICAL;\n  var PROPS_XY = ['x', 'y'];\n  var PROPS_CLIENT_XY = ['clientX', 'clientY'];\n  /**\n   * create new input type manager\n   * @param {Manager} manager\n   * @param {Function} callback\n   * @returns {Input}\n   * @constructor\n   */\n\n  function Input(manager, callback) {\n    var self = this;\n    this.manager = manager;\n    this.callback = callback;\n    this.element = manager.element;\n    this.target = manager.options.inputTarget; // smaller wrapper around the handler, for the scope and the enabled state of the manager,\n    // so when disabled the input events are completely bypassed.\n\n    this.domHandler = function (ev) {\n      if (boolOrFn(manager.options.enable, [manager])) {\n        self.handler(ev);\n      }\n    };\n\n    this.init();\n  }\n\n  Input.prototype = {\n    /**\n     * should handle the inputEvent data and trigger the callback\n     * @virtual\n     */\n    handler: function handler() {},\n\n    /**\n     * bind the events\n     */\n    init: function init() {\n      this.evEl && addEventListeners(this.element, this.evEl, this.domHandler);\n      this.evTarget && addEventListeners(this.target, this.evTarget, this.domHandler);\n      this.evWin && addEventListeners(getWindowForElement(this.element), this.evWin, this.domHandler);\n    },\n\n    /**\n     * unbind the events\n     */\n    destroy: function destroy() {\n      this.evEl && removeEventListeners(this.element, this.evEl, this.domHandler);\n      this.evTarget && removeEventListeners(this.target, this.evTarget, this.domHandler);\n      this.evWin && removeEventListeners(getWindowForElement(this.element), this.evWin, this.domHandler);\n    }\n  };\n  /**\n   * create new input type manager\n   * called by the Manager constructor\n   * @param {Hammer} manager\n   * @returns {Input}\n   */\n\n  function createInputInstance(manager) {\n    var Type;\n    var inputClass = manager.options.inputClass;\n\n    if (inputClass) {\n      Type = inputClass;\n    } else if (SUPPORT_POINTER_EVENTS) {\n      Type = PointerEventInput;\n    } else if (SUPPORT_ONLY_TOUCH) {\n      Type = TouchInput;\n    } else if (!SUPPORT_TOUCH) {\n      Type = MouseInput;\n    } else {\n      Type = TouchMouseInput;\n    }\n\n    return new Type(manager, inputHandler);\n  }\n  /**\n   * handle input events\n   * @param {Manager} manager\n   * @param {String} eventType\n   * @param {Object} input\n   */\n\n\n  function inputHandler(manager, eventType, input) {\n    var pointersLen = input.pointers.length;\n    var changedPointersLen = input.changedPointers.length;\n    var isFirst = eventType & INPUT_START && pointersLen - changedPointersLen === 0;\n    var isFinal = eventType & (INPUT_END | INPUT_CANCEL) && pointersLen - changedPointersLen === 0;\n    input.isFirst = !!isFirst;\n    input.isFinal = !!isFinal;\n\n    if (isFirst) {\n      manager.session = {};\n    } // source event is the normalized value of the domEvents\n    // like 'touchstart, mouseup, pointerdown'\n\n\n    input.eventType = eventType; // compute scale, rotation etc\n\n    computeInputData(manager, input); // emit secret event\n\n    manager.emit('hammer.input', input);\n    manager.recognize(input);\n    manager.session.prevInput = input;\n  }\n  /**\n   * extend the data with some usable properties like scale, rotate, velocity etc\n   * @param {Object} manager\n   * @param {Object} input\n   */\n\n\n  function computeInputData(manager, input) {\n    var session = manager.session;\n    var pointers = input.pointers;\n    var pointersLength = pointers.length; // store the first input to calculate the distance and direction\n\n    if (!session.firstInput) {\n      session.firstInput = simpleCloneInputData(input);\n    } // to compute scale and rotation we need to store the multiple touches\n\n\n    if (pointersLength > 1 && !session.firstMultiple) {\n      session.firstMultiple = simpleCloneInputData(input);\n    } else if (pointersLength === 1) {\n      session.firstMultiple = false;\n    }\n\n    var firstInput = session.firstInput;\n    var firstMultiple = session.firstMultiple;\n    var offsetCenter = firstMultiple ? firstMultiple.center : firstInput.center;\n    var center = input.center = getCenter(pointers);\n    input.timeStamp = now();\n    input.deltaTime = input.timeStamp - firstInput.timeStamp;\n    input.angle = getAngle(offsetCenter, center);\n    input.distance = getDistance(offsetCenter, center);\n    computeDeltaXY(session, input);\n    input.offsetDirection = getDirection(input.deltaX, input.deltaY);\n    var overallVelocity = getVelocity(input.deltaTime, input.deltaX, input.deltaY);\n    input.overallVelocityX = overallVelocity.x;\n    input.overallVelocityY = overallVelocity.y;\n    input.overallVelocity = abs(overallVelocity.x) > abs(overallVelocity.y) ? overallVelocity.x : overallVelocity.y;\n    input.scale = firstMultiple ? getScale(firstMultiple.pointers, pointers) : 1;\n    input.rotation = firstMultiple ? getRotation(firstMultiple.pointers, pointers) : 0;\n    input.maxPointers = !session.prevInput ? input.pointers.length : input.pointers.length > session.prevInput.maxPointers ? input.pointers.length : session.prevInput.maxPointers;\n    computeIntervalInputData(session, input); // find the correct target\n\n    var target = manager.element;\n\n    if (hasParent(input.srcEvent.target, target)) {\n      target = input.srcEvent.target;\n    }\n\n    input.target = target;\n  }\n\n  function computeDeltaXY(session, input) {\n    var center = input.center;\n    var offset = session.offsetDelta || {};\n    var prevDelta = session.prevDelta || {};\n    var prevInput = session.prevInput || {};\n\n    if (input.eventType === INPUT_START || prevInput.eventType === INPUT_END) {\n      prevDelta = session.prevDelta = {\n        x: prevInput.deltaX || 0,\n        y: prevInput.deltaY || 0\n      };\n      offset = session.offsetDelta = {\n        x: center.x,\n        y: center.y\n      };\n    }\n\n    input.deltaX = prevDelta.x + (center.x - offset.x);\n    input.deltaY = prevDelta.y + (center.y - offset.y);\n  }\n  /**\n   * velocity is calculated every x ms\n   * @param {Object} session\n   * @param {Object} input\n   */\n\n\n  function computeIntervalInputData(session, input) {\n    var last = session.lastInterval || input,\n        deltaTime = input.timeStamp - last.timeStamp,\n        velocity,\n        velocityX,\n        velocityY,\n        direction;\n\n    if (input.eventType != INPUT_CANCEL && (deltaTime > COMPUTE_INTERVAL || last.velocity === undefined)) {\n      var deltaX = input.deltaX - last.deltaX;\n      var deltaY = input.deltaY - last.deltaY;\n      var v = getVelocity(deltaTime, deltaX, deltaY);\n      velocityX = v.x;\n      velocityY = v.y;\n      velocity = abs(v.x) > abs(v.y) ? v.x : v.y;\n      direction = getDirection(deltaX, deltaY);\n      session.lastInterval = input;\n    } else {\n      // use latest velocity info if it doesn't overtake a minimum period\n      velocity = last.velocity;\n      velocityX = last.velocityX;\n      velocityY = last.velocityY;\n      direction = last.direction;\n    }\n\n    input.velocity = velocity;\n    input.velocityX = velocityX;\n    input.velocityY = velocityY;\n    input.direction = direction;\n  }\n  /**\n   * create a simple clone from the input used for storage of firstInput and firstMultiple\n   * @param {Object} input\n   * @returns {Object} clonedInputData\n   */\n\n\n  function simpleCloneInputData(input) {\n    // make a simple copy of the pointers because we will get a reference if we don't\n    // we only need clientXY for the calculations\n    var pointers = [];\n    var i = 0;\n\n    while (i < input.pointers.length) {\n      pointers[i] = {\n        clientX: round(input.pointers[i].clientX),\n        clientY: round(input.pointers[i].clientY)\n      };\n      i++;\n    }\n\n    return {\n      timeStamp: now(),\n      pointers: pointers,\n      center: getCenter(pointers),\n      deltaX: input.deltaX,\n      deltaY: input.deltaY\n    };\n  }\n  /**\n   * get the center of all the pointers\n   * @param {Array} pointers\n   * @return {Object} center contains `x` and `y` properties\n   */\n\n\n  function getCenter(pointers) {\n    var pointersLength = pointers.length; // no need to loop when only one touch\n\n    if (pointersLength === 1) {\n      return {\n        x: round(pointers[0].clientX),\n        y: round(pointers[0].clientY)\n      };\n    }\n\n    var x = 0,\n        y = 0,\n        i = 0;\n\n    while (i < pointersLength) {\n      x += pointers[i].clientX;\n      y += pointers[i].clientY;\n      i++;\n    }\n\n    return {\n      x: round(x / pointersLength),\n      y: round(y / pointersLength)\n    };\n  }\n  /**\n   * calculate the velocity between two points. unit is in px per ms.\n   * @param {Number} deltaTime\n   * @param {Number} x\n   * @param {Number} y\n   * @return {Object} velocity `x` and `y`\n   */\n\n\n  function getVelocity(deltaTime, x, y) {\n    return {\n      x: x / deltaTime || 0,\n      y: y / deltaTime || 0\n    };\n  }\n  /**\n   * get the direction between two points\n   * @param {Number} x\n   * @param {Number} y\n   * @return {Number} direction\n   */\n\n\n  function getDirection(x, y) {\n    if (x === y) {\n      return DIRECTION_NONE;\n    }\n\n    if (abs(x) >= abs(y)) {\n      return x < 0 ? DIRECTION_LEFT : DIRECTION_RIGHT;\n    }\n\n    return y < 0 ? DIRECTION_UP : DIRECTION_DOWN;\n  }\n  /**\n   * calculate the absolute distance between two points\n   * @param {Object} p1 {x, y}\n   * @param {Object} p2 {x, y}\n   * @param {Array} [props] containing x and y keys\n   * @return {Number} distance\n   */\n\n\n  function getDistance(p1, p2, props) {\n    if (!props) {\n      props = PROPS_XY;\n    }\n\n    var x = p2[props[0]] - p1[props[0]],\n        y = p2[props[1]] - p1[props[1]];\n    return Math.sqrt(x * x + y * y);\n  }\n  /**\n   * calculate the angle between two coordinates\n   * @param {Object} p1\n   * @param {Object} p2\n   * @param {Array} [props] containing x and y keys\n   * @return {Number} angle\n   */\n\n\n  function getAngle(p1, p2, props) {\n    if (!props) {\n      props = PROPS_XY;\n    }\n\n    var x = p2[props[0]] - p1[props[0]],\n        y = p2[props[1]] - p1[props[1]];\n    return Math.atan2(y, x) * 180 / Math.PI;\n  }\n  /**\n   * calculate the rotation degrees between two pointersets\n   * @param {Array} start array of pointers\n   * @param {Array} end array of pointers\n   * @return {Number} rotation\n   */\n\n\n  function getRotation(start, end) {\n    return getAngle(end[1], end[0], PROPS_CLIENT_XY) + getAngle(start[1], start[0], PROPS_CLIENT_XY);\n  }\n  /**\n   * calculate the scale factor between two pointersets\n   * no scale is 1, and goes down to 0 when pinched together, and bigger when pinched out\n   * @param {Array} start array of pointers\n   * @param {Array} end array of pointers\n   * @return {Number} scale\n   */\n\n\n  function getScale(start, end) {\n    return getDistance(end[0], end[1], PROPS_CLIENT_XY) / getDistance(start[0], start[1], PROPS_CLIENT_XY);\n  }\n\n  var MOUSE_INPUT_MAP = {\n    mousedown: INPUT_START,\n    mousemove: INPUT_MOVE,\n    mouseup: INPUT_END\n  };\n  var MOUSE_ELEMENT_EVENTS = 'mousedown';\n  var MOUSE_WINDOW_EVENTS = 'mousemove mouseup';\n  /**\n   * Mouse events input\n   * @constructor\n   * @extends Input\n   */\n\n  function MouseInput() {\n    this.evEl = MOUSE_ELEMENT_EVENTS;\n    this.evWin = MOUSE_WINDOW_EVENTS;\n    this.pressed = false; // mousedown state\n\n    Input.apply(this, arguments);\n  }\n\n  inherit(MouseInput, Input, {\n    /**\n     * handle mouse events\n     * @param {Object} ev\n     */\n    handler: function MEhandler(ev) {\n      var eventType = MOUSE_INPUT_MAP[ev.type]; // on start we want to have the left mouse button down\n\n      if (eventType & INPUT_START && ev.button === 0) {\n        this.pressed = true;\n      }\n\n      if (eventType & INPUT_MOVE && ev.which !== 1) {\n        eventType = INPUT_END;\n      } // mouse must be down\n\n\n      if (!this.pressed) {\n        return;\n      }\n\n      if (eventType & INPUT_END) {\n        this.pressed = false;\n      }\n\n      this.callback(this.manager, eventType, {\n        pointers: [ev],\n        changedPointers: [ev],\n        pointerType: INPUT_TYPE_MOUSE,\n        srcEvent: ev\n      });\n    }\n  });\n  var POINTER_INPUT_MAP = {\n    pointerdown: INPUT_START,\n    pointermove: INPUT_MOVE,\n    pointerup: INPUT_END,\n    pointercancel: INPUT_CANCEL,\n    pointerout: INPUT_CANCEL\n  }; // in IE10 the pointer types is defined as an enum\n\n  var IE10_POINTER_TYPE_ENUM = {\n    2: INPUT_TYPE_TOUCH,\n    3: INPUT_TYPE_PEN,\n    4: INPUT_TYPE_MOUSE,\n    5: INPUT_TYPE_KINECT // see https://twitter.com/jacobrossi/status/480596438489890816\n\n  };\n  var POINTER_ELEMENT_EVENTS = 'pointerdown';\n  var POINTER_WINDOW_EVENTS = 'pointermove pointerup pointercancel'; // IE10 has prefixed support, and case-sensitive\n\n  if (window.MSPointerEvent && !window.PointerEvent) {\n    POINTER_ELEMENT_EVENTS = 'MSPointerDown';\n    POINTER_WINDOW_EVENTS = 'MSPointerMove MSPointerUp MSPointerCancel';\n  }\n  /**\n   * Pointer events input\n   * @constructor\n   * @extends Input\n   */\n\n\n  function PointerEventInput() {\n    this.evEl = POINTER_ELEMENT_EVENTS;\n    this.evWin = POINTER_WINDOW_EVENTS;\n    Input.apply(this, arguments);\n    this.store = this.manager.session.pointerEvents = [];\n  }\n\n  inherit(PointerEventInput, Input, {\n    /**\n     * handle mouse events\n     * @param {Object} ev\n     */\n    handler: function PEhandler(ev) {\n      var store = this.store;\n      var removePointer = false;\n      var eventTypeNormalized = ev.type.toLowerCase().replace('ms', '');\n      var eventType = POINTER_INPUT_MAP[eventTypeNormalized];\n      var pointerType = IE10_POINTER_TYPE_ENUM[ev.pointerType] || ev.pointerType;\n      var isTouch = pointerType == INPUT_TYPE_TOUCH; // get index of the event in the store\n\n      var storeIndex = inArray(store, ev.pointerId, 'pointerId'); // start and mouse must be down\n\n      if (eventType & INPUT_START && (ev.button === 0 || isTouch)) {\n        if (storeIndex < 0) {\n          store.push(ev);\n          storeIndex = store.length - 1;\n        }\n      } else if (eventType & (INPUT_END | INPUT_CANCEL)) {\n        removePointer = true;\n      } // it not found, so the pointer hasn't been down (so it's probably a hover)\n\n\n      if (storeIndex < 0) {\n        return;\n      } // update the event in the store\n\n\n      store[storeIndex] = ev;\n      this.callback(this.manager, eventType, {\n        pointers: store,\n        changedPointers: [ev],\n        pointerType: pointerType,\n        srcEvent: ev\n      });\n\n      if (removePointer) {\n        // remove from the store\n        store.splice(storeIndex, 1);\n      }\n    }\n  });\n  var SINGLE_TOUCH_INPUT_MAP = {\n    touchstart: INPUT_START,\n    touchmove: INPUT_MOVE,\n    touchend: INPUT_END,\n    touchcancel: INPUT_CANCEL\n  };\n  var SINGLE_TOUCH_TARGET_EVENTS = 'touchstart';\n  var SINGLE_TOUCH_WINDOW_EVENTS = 'touchstart touchmove touchend touchcancel';\n  /**\n   * Touch events input\n   * @constructor\n   * @extends Input\n   */\n\n  function SingleTouchInput() {\n    this.evTarget = SINGLE_TOUCH_TARGET_EVENTS;\n    this.evWin = SINGLE_TOUCH_WINDOW_EVENTS;\n    this.started = false;\n    Input.apply(this, arguments);\n  }\n\n  inherit(SingleTouchInput, Input, {\n    handler: function TEhandler(ev) {\n      var type = SINGLE_TOUCH_INPUT_MAP[ev.type]; // should we handle the touch events?\n\n      if (type === INPUT_START) {\n        this.started = true;\n      }\n\n      if (!this.started) {\n        return;\n      }\n\n      var touches = normalizeSingleTouches.call(this, ev, type); // when done, reset the started state\n\n      if (type & (INPUT_END | INPUT_CANCEL) && touches[0].length - touches[1].length === 0) {\n        this.started = false;\n      }\n\n      this.callback(this.manager, type, {\n        pointers: touches[0],\n        changedPointers: touches[1],\n        pointerType: INPUT_TYPE_TOUCH,\n        srcEvent: ev\n      });\n    }\n  });\n  /**\n   * @this {TouchInput}\n   * @param {Object} ev\n   * @param {Number} type flag\n   * @returns {undefined|Array} [all, changed]\n   */\n\n  function normalizeSingleTouches(ev, type) {\n    var all = toArray(ev.touches);\n    var changed = toArray(ev.changedTouches);\n\n    if (type & (INPUT_END | INPUT_CANCEL)) {\n      all = uniqueArray(all.concat(changed), 'identifier', true);\n    }\n\n    return [all, changed];\n  }\n\n  var TOUCH_INPUT_MAP = {\n    touchstart: INPUT_START,\n    touchmove: INPUT_MOVE,\n    touchend: INPUT_END,\n    touchcancel: INPUT_CANCEL\n  };\n  var TOUCH_TARGET_EVENTS = 'touchstart touchmove touchend touchcancel';\n  /**\n   * Multi-user touch events input\n   * @constructor\n   * @extends Input\n   */\n\n  function TouchInput() {\n    this.evTarget = TOUCH_TARGET_EVENTS;\n    this.targetIds = {};\n    Input.apply(this, arguments);\n  }\n\n  inherit(TouchInput, Input, {\n    handler: function MTEhandler(ev) {\n      var type = TOUCH_INPUT_MAP[ev.type];\n      var touches = getTouches.call(this, ev, type);\n\n      if (!touches) {\n        return;\n      }\n\n      this.callback(this.manager, type, {\n        pointers: touches[0],\n        changedPointers: touches[1],\n        pointerType: INPUT_TYPE_TOUCH,\n        srcEvent: ev\n      });\n    }\n  });\n  /**\n   * @this {TouchInput}\n   * @param {Object} ev\n   * @param {Number} type flag\n   * @returns {undefined|Array} [all, changed]\n   */\n\n  function getTouches(ev, type) {\n    var allTouches = toArray(ev.touches);\n    var targetIds = this.targetIds; // when there is only one touch, the process can be simplified\n\n    if (type & (INPUT_START | INPUT_MOVE) && allTouches.length === 1) {\n      targetIds[allTouches[0].identifier] = true;\n      return [allTouches, allTouches];\n    }\n\n    var i,\n        targetTouches,\n        changedTouches = toArray(ev.changedTouches),\n        changedTargetTouches = [],\n        target = this.target; // get target touches from touches\n\n    targetTouches = allTouches.filter(function (touch) {\n      return hasParent(touch.target, target);\n    }); // collect touches\n\n    if (type === INPUT_START) {\n      i = 0;\n\n      while (i < targetTouches.length) {\n        targetIds[targetTouches[i].identifier] = true;\n        i++;\n      }\n    } // filter changed touches to only contain touches that exist in the collected target ids\n\n\n    i = 0;\n\n    while (i < changedTouches.length) {\n      if (targetIds[changedTouches[i].identifier]) {\n        changedTargetTouches.push(changedTouches[i]);\n      } // cleanup removed touches\n\n\n      if (type & (INPUT_END | INPUT_CANCEL)) {\n        delete targetIds[changedTouches[i].identifier];\n      }\n\n      i++;\n    }\n\n    if (!changedTargetTouches.length) {\n      return;\n    }\n\n    return [// merge targetTouches with changedTargetTouches so it contains ALL touches, including 'end' and 'cancel'\n    uniqueArray(targetTouches.concat(changedTargetTouches), 'identifier', true), changedTargetTouches];\n  }\n  /**\n   * Combined touch and mouse input\n   *\n   * Touch has a higher priority then mouse, and while touching no mouse events are allowed.\n   * This because touch devices also emit mouse events while doing a touch.\n   *\n   * @constructor\n   * @extends Input\n   */\n\n\n  var DEDUP_TIMEOUT = 2500;\n  var DEDUP_DISTANCE = 25;\n\n  function TouchMouseInput() {\n    Input.apply(this, arguments);\n    var handler = bindFn(this.handler, this);\n    this.touch = new TouchInput(this.manager, handler);\n    this.mouse = new MouseInput(this.manager, handler);\n    this.primaryTouch = null;\n    this.lastTouches = [];\n  }\n\n  inherit(TouchMouseInput, Input, {\n    /**\n     * handle mouse and touch events\n     * @param {Hammer} manager\n     * @param {String} inputEvent\n     * @param {Object} inputData\n     */\n    handler: function TMEhandler(manager, inputEvent, inputData) {\n      var isTouch = inputData.pointerType == INPUT_TYPE_TOUCH,\n          isMouse = inputData.pointerType == INPUT_TYPE_MOUSE;\n\n      if (isMouse && inputData.sourceCapabilities && inputData.sourceCapabilities.firesTouchEvents) {\n        return;\n      } // when we're in a touch event, record touches to  de-dupe synthetic mouse event\n\n\n      if (isTouch) {\n        recordTouches.call(this, inputEvent, inputData);\n      } else if (isMouse && isSyntheticEvent.call(this, inputData)) {\n        return;\n      }\n\n      this.callback(manager, inputEvent, inputData);\n    },\n\n    /**\n     * remove the event listeners\n     */\n    destroy: function destroy() {\n      this.touch.destroy();\n      this.mouse.destroy();\n    }\n  });\n\n  function recordTouches(eventType, eventData) {\n    if (eventType & INPUT_START) {\n      this.primaryTouch = eventData.changedPointers[0].identifier;\n      setLastTouch.call(this, eventData);\n    } else if (eventType & (INPUT_END | INPUT_CANCEL)) {\n      setLastTouch.call(this, eventData);\n    }\n  }\n\n  function setLastTouch(eventData) {\n    var touch = eventData.changedPointers[0];\n\n    if (touch.identifier === this.primaryTouch) {\n      var lastTouch = {\n        x: touch.clientX,\n        y: touch.clientY\n      };\n      this.lastTouches.push(lastTouch);\n      var lts = this.lastTouches;\n\n      var removeLastTouch = function removeLastTouch() {\n        var i = lts.indexOf(lastTouch);\n\n        if (i > -1) {\n          lts.splice(i, 1);\n        }\n      };\n\n      setTimeout(removeLastTouch, DEDUP_TIMEOUT);\n    }\n  }\n\n  function isSyntheticEvent(eventData) {\n    var x = eventData.srcEvent.clientX,\n        y = eventData.srcEvent.clientY;\n\n    for (var i = 0; i < this.lastTouches.length; i++) {\n      var t = this.lastTouches[i];\n      var dx = Math.abs(x - t.x),\n          dy = Math.abs(y - t.y);\n\n      if (dx <= DEDUP_DISTANCE && dy <= DEDUP_DISTANCE) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  var PREFIXED_TOUCH_ACTION = prefixed(TEST_ELEMENT.style, 'touchAction');\n  var NATIVE_TOUCH_ACTION = PREFIXED_TOUCH_ACTION !== undefined; // magical touchAction value\n\n  var TOUCH_ACTION_COMPUTE = 'compute';\n  var TOUCH_ACTION_AUTO = 'auto';\n  var TOUCH_ACTION_MANIPULATION = 'manipulation'; // not implemented\n\n  var TOUCH_ACTION_NONE = 'none';\n  var TOUCH_ACTION_PAN_X = 'pan-x';\n  var TOUCH_ACTION_PAN_Y = 'pan-y';\n  var TOUCH_ACTION_MAP = getTouchActionProps();\n  /**\n   * Touch Action\n   * sets the touchAction property or uses the js alternative\n   * @param {Manager} manager\n   * @param {String} value\n   * @constructor\n   */\n\n  function TouchAction(manager, value) {\n    this.manager = manager;\n    this.set(value);\n  }\n\n  TouchAction.prototype = {\n    /**\n     * set the touchAction value on the element or enable the polyfill\n     * @param {String} value\n     */\n    set: function set(value) {\n      // find out the touch-action by the event handlers\n      if (value == TOUCH_ACTION_COMPUTE) {\n        value = this.compute();\n      }\n\n      if (NATIVE_TOUCH_ACTION && this.manager.element.style && TOUCH_ACTION_MAP[value]) {\n        this.manager.element.style[PREFIXED_TOUCH_ACTION] = value;\n      }\n\n      this.actions = value.toLowerCase().trim();\n    },\n\n    /**\n     * just re-set the touchAction value\n     */\n    update: function update() {\n      this.set(this.manager.options.touchAction);\n    },\n\n    /**\n     * compute the value for the touchAction property based on the recognizer's settings\n     * @returns {String} value\n     */\n    compute: function compute() {\n      var actions = [];\n      each(this.manager.recognizers, function (recognizer) {\n        if (boolOrFn(recognizer.options.enable, [recognizer])) {\n          actions = actions.concat(recognizer.getTouchAction());\n        }\n      });\n      return cleanTouchActions(actions.join(' '));\n    },\n\n    /**\n     * this method is called on each input cycle and provides the preventing of the browser behavior\n     * @param {Object} input\n     */\n    preventDefaults: function preventDefaults(input) {\n      var srcEvent = input.srcEvent;\n      var direction = input.offsetDirection; // if the touch action did prevented once this session\n\n      if (this.manager.session.prevented) {\n        srcEvent.preventDefault();\n        return;\n      }\n\n      var actions = this.actions;\n      var hasNone = inStr(actions, TOUCH_ACTION_NONE) && !TOUCH_ACTION_MAP[TOUCH_ACTION_NONE];\n      var hasPanY = inStr(actions, TOUCH_ACTION_PAN_Y) && !TOUCH_ACTION_MAP[TOUCH_ACTION_PAN_Y];\n      var hasPanX = inStr(actions, TOUCH_ACTION_PAN_X) && !TOUCH_ACTION_MAP[TOUCH_ACTION_PAN_X];\n\n      if (hasNone) {\n        //do not prevent defaults if this is a tap gesture\n        var isTapPointer = input.pointers.length === 1;\n        var isTapMovement = input.distance < 2;\n        var isTapTouchTime = input.deltaTime < 250;\n\n        if (isTapPointer && isTapMovement && isTapTouchTime) {\n          return;\n        }\n      }\n\n      if (hasPanX && hasPanY) {\n        // `pan-x pan-y` means browser handles all scrolling/panning, do not prevent\n        return;\n      }\n\n      if (hasNone || hasPanY && direction & DIRECTION_HORIZONTAL || hasPanX && direction & DIRECTION_VERTICAL) {\n        return this.preventSrc(srcEvent);\n      }\n    },\n\n    /**\n     * call preventDefault to prevent the browser's default behavior (scrolling in most cases)\n     * @param {Object} srcEvent\n     */\n    preventSrc: function preventSrc(srcEvent) {\n      this.manager.session.prevented = true;\n      srcEvent.preventDefault();\n    }\n  };\n  /**\n   * when the touchActions are collected they are not a valid value, so we need to clean things up. *\n   * @param {String} actions\n   * @returns {*}\n   */\n\n  function cleanTouchActions(actions) {\n    // none\n    if (inStr(actions, TOUCH_ACTION_NONE)) {\n      return TOUCH_ACTION_NONE;\n    }\n\n    var hasPanX = inStr(actions, TOUCH_ACTION_PAN_X);\n    var hasPanY = inStr(actions, TOUCH_ACTION_PAN_Y); // if both pan-x and pan-y are set (different recognizers\n    // for different directions, e.g. horizontal pan but vertical swipe?)\n    // we need none (as otherwise with pan-x pan-y combined none of these\n    // recognizers will work, since the browser would handle all panning\n\n    if (hasPanX && hasPanY) {\n      return TOUCH_ACTION_NONE;\n    } // pan-x OR pan-y\n\n\n    if (hasPanX || hasPanY) {\n      return hasPanX ? TOUCH_ACTION_PAN_X : TOUCH_ACTION_PAN_Y;\n    } // manipulation\n\n\n    if (inStr(actions, TOUCH_ACTION_MANIPULATION)) {\n      return TOUCH_ACTION_MANIPULATION;\n    }\n\n    return TOUCH_ACTION_AUTO;\n  }\n\n  function getTouchActionProps() {\n    if (!NATIVE_TOUCH_ACTION) {\n      return false;\n    }\n\n    var touchMap = {};\n    var cssSupports = window.CSS && window.CSS.supports;\n    ['auto', 'manipulation', 'pan-y', 'pan-x', 'pan-x pan-y', 'none'].forEach(function (val) {\n      // If css.supports is not supported but there is native touch-action assume it supports\n      // all values. This is the case for IE 10 and 11.\n      touchMap[val] = cssSupports ? window.CSS.supports('touch-action', val) : true;\n    });\n    return touchMap;\n  }\n  /**\n   * Recognizer flow explained; *\n   * All recognizers have the initial state of POSSIBLE when a input session starts.\n   * The definition of a input session is from the first input until the last input, with all it's movement in it. *\n   * Example session for mouse-input: mousedown -> mousemove -> mouseup\n   *\n   * On each recognizing cycle (see Manager.recognize) the .recognize() method is executed\n   * which determines with state it should be.\n   *\n   * If the recognizer has the state FAILED, CANCELLED or RECOGNIZED (equals ENDED), it is reset to\n   * POSSIBLE to give it another change on the next cycle.\n   *\n   *               Possible\n   *                  |\n   *            +-----+---------------+\n   *            |                     |\n   *      +-----+-----+               |\n   *      |           |               |\n   *   Failed      Cancelled          |\n   *                          +-------+------+\n   *                          |              |\n   *                      Recognized       Began\n   *                                         |\n   *                                      Changed\n   *                                         |\n   *                                  Ended/Recognized\n   */\n\n\n  var STATE_POSSIBLE = 1;\n  var STATE_BEGAN = 2;\n  var STATE_CHANGED = 4;\n  var STATE_ENDED = 8;\n  var STATE_RECOGNIZED = STATE_ENDED;\n  var STATE_CANCELLED = 16;\n  var STATE_FAILED = 32;\n  /**\n   * Recognizer\n   * Every recognizer needs to extend from this class.\n   * @constructor\n   * @param {Object} options\n   */\n\n  function Recognizer(options) {\n    this.options = assign({}, this.defaults, options || {});\n    this.id = uniqueId();\n    this.manager = null; // default is enable true\n\n    this.options.enable = ifUndefined(this.options.enable, true);\n    this.state = STATE_POSSIBLE;\n    this.simultaneous = {};\n    this.requireFail = [];\n  }\n\n  Recognizer.prototype = {\n    /**\n     * @virtual\n     * @type {Object}\n     */\n    defaults: {},\n\n    /**\n     * set options\n     * @param {Object} options\n     * @return {Recognizer}\n     */\n    set: function set(options) {\n      assign(this.options, options); // also update the touchAction, in case something changed about the directions/enabled state\n\n      this.manager && this.manager.touchAction.update();\n      return this;\n    },\n\n    /**\n     * recognize simultaneous with an other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    recognizeWith: function recognizeWith(otherRecognizer) {\n      if (invokeArrayArg(otherRecognizer, 'recognizeWith', this)) {\n        return this;\n      }\n\n      var simultaneous = this.simultaneous;\n      otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n\n      if (!simultaneous[otherRecognizer.id]) {\n        simultaneous[otherRecognizer.id] = otherRecognizer;\n        otherRecognizer.recognizeWith(this);\n      }\n\n      return this;\n    },\n\n    /**\n     * drop the simultaneous link. it doesnt remove the link on the other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    dropRecognizeWith: function dropRecognizeWith(otherRecognizer) {\n      if (invokeArrayArg(otherRecognizer, 'dropRecognizeWith', this)) {\n        return this;\n      }\n\n      otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n      delete this.simultaneous[otherRecognizer.id];\n      return this;\n    },\n\n    /**\n     * recognizer can only run when an other is failing\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    requireFailure: function requireFailure(otherRecognizer) {\n      if (invokeArrayArg(otherRecognizer, 'requireFailure', this)) {\n        return this;\n      }\n\n      var requireFail = this.requireFail;\n      otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n\n      if (inArray(requireFail, otherRecognizer) === -1) {\n        requireFail.push(otherRecognizer);\n        otherRecognizer.requireFailure(this);\n      }\n\n      return this;\n    },\n\n    /**\n     * drop the requireFailure link. it does not remove the link on the other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    dropRequireFailure: function dropRequireFailure(otherRecognizer) {\n      if (invokeArrayArg(otherRecognizer, 'dropRequireFailure', this)) {\n        return this;\n      }\n\n      otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n      var index = inArray(this.requireFail, otherRecognizer);\n\n      if (index > -1) {\n        this.requireFail.splice(index, 1);\n      }\n\n      return this;\n    },\n\n    /**\n     * has require failures boolean\n     * @returns {boolean}\n     */\n    hasRequireFailures: function hasRequireFailures() {\n      return this.requireFail.length > 0;\n    },\n\n    /**\n     * if the recognizer can recognize simultaneous with an other recognizer\n     * @param {Recognizer} otherRecognizer\n     * @returns {Boolean}\n     */\n    canRecognizeWith: function canRecognizeWith(otherRecognizer) {\n      return !!this.simultaneous[otherRecognizer.id];\n    },\n\n    /**\n     * You should use `tryEmit` instead of `emit` directly to check\n     * that all the needed recognizers has failed before emitting.\n     * @param {Object} input\n     */\n    emit: function emit(input) {\n      var self = this;\n      var state = this.state;\n\n      function emit(event) {\n        self.manager.emit(event, input);\n      } // 'panstart' and 'panmove'\n\n\n      if (state < STATE_ENDED) {\n        emit(self.options.event + stateStr(state));\n      }\n\n      emit(self.options.event); // simple 'eventName' events\n\n      if (input.additionalEvent) {\n        // additional event(panleft, panright, pinchin, pinchout...)\n        emit(input.additionalEvent);\n      } // panend and pancancel\n\n\n      if (state >= STATE_ENDED) {\n        emit(self.options.event + stateStr(state));\n      }\n    },\n\n    /**\n     * Check that all the require failure recognizers has failed,\n     * if true, it emits a gesture event,\n     * otherwise, setup the state to FAILED.\n     * @param {Object} input\n     */\n    tryEmit: function tryEmit(input) {\n      if (this.canEmit()) {\n        return this.emit(input);\n      } // it's failing anyway\n\n\n      this.state = STATE_FAILED;\n    },\n\n    /**\n     * can we emit?\n     * @returns {boolean}\n     */\n    canEmit: function canEmit() {\n      var i = 0;\n\n      while (i < this.requireFail.length) {\n        if (!(this.requireFail[i].state & (STATE_FAILED | STATE_POSSIBLE))) {\n          return false;\n        }\n\n        i++;\n      }\n\n      return true;\n    },\n\n    /**\n     * update the recognizer\n     * @param {Object} inputData\n     */\n    recognize: function recognize(inputData) {\n      // make a new copy of the inputData\n      // so we can change the inputData without messing up the other recognizers\n      var inputDataClone = assign({}, inputData); // is is enabled and allow recognizing?\n\n      if (!boolOrFn(this.options.enable, [this, inputDataClone])) {\n        this.reset();\n        this.state = STATE_FAILED;\n        return;\n      } // reset when we've reached the end\n\n\n      if (this.state & (STATE_RECOGNIZED | STATE_CANCELLED | STATE_FAILED)) {\n        this.state = STATE_POSSIBLE;\n      }\n\n      this.state = this.process(inputDataClone); // the recognizer has recognized a gesture\n      // so trigger an event\n\n      if (this.state & (STATE_BEGAN | STATE_CHANGED | STATE_ENDED | STATE_CANCELLED)) {\n        this.tryEmit(inputDataClone);\n      }\n    },\n\n    /**\n     * return the state of the recognizer\n     * the actual recognizing happens in this method\n     * @virtual\n     * @param {Object} inputData\n     * @returns {Const} STATE\n     */\n    process: function process(inputData) {},\n    // jshint ignore:line\n\n    /**\n     * return the preferred touch-action\n     * @virtual\n     * @returns {Array}\n     */\n    getTouchAction: function getTouchAction() {},\n\n    /**\n     * called when the gesture isn't allowed to recognize\n     * like when another is being recognized or it is disabled\n     * @virtual\n     */\n    reset: function reset() {}\n  };\n  /**\n   * get a usable string, used as event postfix\n   * @param {Const} state\n   * @returns {String} state\n   */\n\n  function stateStr(state) {\n    if (state & STATE_CANCELLED) {\n      return 'cancel';\n    } else if (state & STATE_ENDED) {\n      return 'end';\n    } else if (state & STATE_CHANGED) {\n      return 'move';\n    } else if (state & STATE_BEGAN) {\n      return 'start';\n    }\n\n    return '';\n  }\n  /**\n   * direction cons to string\n   * @param {Const} direction\n   * @returns {String}\n   */\n\n\n  function directionStr(direction) {\n    if (direction == DIRECTION_DOWN) {\n      return 'down';\n    } else if (direction == DIRECTION_UP) {\n      return 'up';\n    } else if (direction == DIRECTION_LEFT) {\n      return 'left';\n    } else if (direction == DIRECTION_RIGHT) {\n      return 'right';\n    }\n\n    return '';\n  }\n  /**\n   * get a recognizer by name if it is bound to a manager\n   * @param {Recognizer|String} otherRecognizer\n   * @param {Recognizer} recognizer\n   * @returns {Recognizer}\n   */\n\n\n  function getRecognizerByNameIfManager(otherRecognizer, recognizer) {\n    var manager = recognizer.manager;\n\n    if (manager) {\n      return manager.get(otherRecognizer);\n    }\n\n    return otherRecognizer;\n  }\n  /**\n   * This recognizer is just used as a base for the simple attribute recognizers.\n   * @constructor\n   * @extends Recognizer\n   */\n\n\n  function AttrRecognizer() {\n    Recognizer.apply(this, arguments);\n  }\n\n  inherit(AttrRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof AttrRecognizer\n     */\n    defaults: {\n      /**\n       * @type {Number}\n       * @default 1\n       */\n      pointers: 1\n    },\n\n    /**\n     * Used to check if it the recognizer receives valid input, like input.distance > 10.\n     * @memberof AttrRecognizer\n     * @param {Object} input\n     * @returns {Boolean} recognized\n     */\n    attrTest: function attrTest(input) {\n      var optionPointers = this.options.pointers;\n      return optionPointers === 0 || input.pointers.length === optionPointers;\n    },\n\n    /**\n     * Process the input and return the state for the recognizer\n     * @memberof AttrRecognizer\n     * @param {Object} input\n     * @returns {*} State\n     */\n    process: function process(input) {\n      var state = this.state;\n      var eventType = input.eventType;\n      var isRecognized = state & (STATE_BEGAN | STATE_CHANGED);\n      var isValid = this.attrTest(input); // on cancel input and we've recognized before, return STATE_CANCELLED\n\n      if (isRecognized && (eventType & INPUT_CANCEL || !isValid)) {\n        return state | STATE_CANCELLED;\n      } else if (isRecognized || isValid) {\n        if (eventType & INPUT_END) {\n          return state | STATE_ENDED;\n        } else if (!(state & STATE_BEGAN)) {\n          return STATE_BEGAN;\n        }\n\n        return state | STATE_CHANGED;\n      }\n\n      return STATE_FAILED;\n    }\n  });\n  /**\n   * Pan\n   * Recognized when the pointer is down and moved in the allowed direction.\n   * @constructor\n   * @extends AttrRecognizer\n   */\n\n  function PanRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n    this.pX = null;\n    this.pY = null;\n  }\n\n  inherit(PanRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof PanRecognizer\n     */\n    defaults: {\n      event: 'pan',\n      threshold: 10,\n      pointers: 1,\n      direction: DIRECTION_ALL\n    },\n    getTouchAction: function getTouchAction() {\n      var direction = this.options.direction;\n      var actions = [];\n\n      if (direction & DIRECTION_HORIZONTAL) {\n        actions.push(TOUCH_ACTION_PAN_Y);\n      }\n\n      if (direction & DIRECTION_VERTICAL) {\n        actions.push(TOUCH_ACTION_PAN_X);\n      }\n\n      return actions;\n    },\n    directionTest: function directionTest(input) {\n      var options = this.options;\n      var hasMoved = true;\n      var distance = input.distance;\n      var direction = input.direction;\n      var x = input.deltaX;\n      var y = input.deltaY; // lock to axis?\n\n      if (!(direction & options.direction)) {\n        if (options.direction & DIRECTION_HORIZONTAL) {\n          direction = x === 0 ? DIRECTION_NONE : x < 0 ? DIRECTION_LEFT : DIRECTION_RIGHT;\n          hasMoved = x != this.pX;\n          distance = Math.abs(input.deltaX);\n        } else {\n          direction = y === 0 ? DIRECTION_NONE : y < 0 ? DIRECTION_UP : DIRECTION_DOWN;\n          hasMoved = y != this.pY;\n          distance = Math.abs(input.deltaY);\n        }\n      }\n\n      input.direction = direction;\n      return hasMoved && distance > options.threshold && direction & options.direction;\n    },\n    attrTest: function attrTest(input) {\n      return AttrRecognizer.prototype.attrTest.call(this, input) && (this.state & STATE_BEGAN || !(this.state & STATE_BEGAN) && this.directionTest(input));\n    },\n    emit: function emit(input) {\n      this.pX = input.deltaX;\n      this.pY = input.deltaY;\n      var direction = directionStr(input.direction);\n\n      if (direction) {\n        input.additionalEvent = this.options.event + direction;\n      }\n\n      this._super.emit.call(this, input);\n    }\n  });\n  /**\n   * Pinch\n   * Recognized when two or more pointers are moving toward (zoom-in) or away from each other (zoom-out).\n   * @constructor\n   * @extends AttrRecognizer\n   */\n\n  function PinchRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n  }\n\n  inherit(PinchRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof PinchRecognizer\n     */\n    defaults: {\n      event: 'pinch',\n      threshold: 0,\n      pointers: 2\n    },\n    getTouchAction: function getTouchAction() {\n      return [TOUCH_ACTION_NONE];\n    },\n    attrTest: function attrTest(input) {\n      return this._super.attrTest.call(this, input) && (Math.abs(input.scale - 1) > this.options.threshold || this.state & STATE_BEGAN);\n    },\n    emit: function emit(input) {\n      if (input.scale !== 1) {\n        var inOut = input.scale < 1 ? 'in' : 'out';\n        input.additionalEvent = this.options.event + inOut;\n      }\n\n      this._super.emit.call(this, input);\n    }\n  });\n  /**\n   * Press\n   * Recognized when the pointer is down for x ms without any movement.\n   * @constructor\n   * @extends Recognizer\n   */\n\n  function PressRecognizer() {\n    Recognizer.apply(this, arguments);\n    this._timer = null;\n    this._input = null;\n  }\n\n  inherit(PressRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof PressRecognizer\n     */\n    defaults: {\n      event: 'press',\n      pointers: 1,\n      time: 251,\n      // minimal time of the pointer to be pressed\n      threshold: 9 // a minimal movement is ok, but keep it low\n\n    },\n    getTouchAction: function getTouchAction() {\n      return [TOUCH_ACTION_AUTO];\n    },\n    process: function process(input) {\n      var options = this.options;\n      var validPointers = input.pointers.length === options.pointers;\n      var validMovement = input.distance < options.threshold;\n      var validTime = input.deltaTime > options.time;\n      this._input = input; // we only allow little movement\n      // and we've reached an end event, so a tap is possible\n\n      if (!validMovement || !validPointers || input.eventType & (INPUT_END | INPUT_CANCEL) && !validTime) {\n        this.reset();\n      } else if (input.eventType & INPUT_START) {\n        this.reset();\n        this._timer = setTimeoutContext(function () {\n          this.state = STATE_RECOGNIZED;\n          this.tryEmit();\n        }, options.time, this);\n      } else if (input.eventType & INPUT_END) {\n        return STATE_RECOGNIZED;\n      }\n\n      return STATE_FAILED;\n    },\n    reset: function reset() {\n      clearTimeout(this._timer);\n    },\n    emit: function emit(input) {\n      if (this.state !== STATE_RECOGNIZED) {\n        return;\n      }\n\n      if (input && input.eventType & INPUT_END) {\n        this.manager.emit(this.options.event + 'up', input);\n      } else {\n        this._input.timeStamp = now();\n        this.manager.emit(this.options.event, this._input);\n      }\n    }\n  });\n  /**\n   * Rotate\n   * Recognized when two or more pointer are moving in a circular motion.\n   * @constructor\n   * @extends AttrRecognizer\n   */\n\n  function RotateRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n  }\n\n  inherit(RotateRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof RotateRecognizer\n     */\n    defaults: {\n      event: 'rotate',\n      threshold: 0,\n      pointers: 2\n    },\n    getTouchAction: function getTouchAction() {\n      return [TOUCH_ACTION_NONE];\n    },\n    attrTest: function attrTest(input) {\n      return this._super.attrTest.call(this, input) && (Math.abs(input.rotation) > this.options.threshold || this.state & STATE_BEGAN);\n    }\n  });\n  /**\n   * Swipe\n   * Recognized when the pointer is moving fast (velocity), with enough distance in the allowed direction.\n   * @constructor\n   * @extends AttrRecognizer\n   */\n\n  function SwipeRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n  }\n\n  inherit(SwipeRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof SwipeRecognizer\n     */\n    defaults: {\n      event: 'swipe',\n      threshold: 10,\n      velocity: 0.3,\n      direction: DIRECTION_HORIZONTAL | DIRECTION_VERTICAL,\n      pointers: 1\n    },\n    getTouchAction: function getTouchAction() {\n      return PanRecognizer.prototype.getTouchAction.call(this);\n    },\n    attrTest: function attrTest(input) {\n      var direction = this.options.direction;\n      var velocity;\n\n      if (direction & (DIRECTION_HORIZONTAL | DIRECTION_VERTICAL)) {\n        velocity = input.overallVelocity;\n      } else if (direction & DIRECTION_HORIZONTAL) {\n        velocity = input.overallVelocityX;\n      } else if (direction & DIRECTION_VERTICAL) {\n        velocity = input.overallVelocityY;\n      }\n\n      return this._super.attrTest.call(this, input) && direction & input.offsetDirection && input.distance > this.options.threshold && input.maxPointers == this.options.pointers && abs(velocity) > this.options.velocity && input.eventType & INPUT_END;\n    },\n    emit: function emit(input) {\n      var direction = directionStr(input.offsetDirection);\n\n      if (direction) {\n        this.manager.emit(this.options.event + direction, input);\n      }\n\n      this.manager.emit(this.options.event, input);\n    }\n  });\n  /**\n   * A tap is ecognized when the pointer is doing a small tap/click. Multiple taps are recognized if they occur\n   * between the given interval and position. The delay option can be used to recognize multi-taps without firing\n   * a single tap.\n   *\n   * The eventData from the emitted event contains the property `tapCount`, which contains the amount of\n   * multi-taps being recognized.\n   * @constructor\n   * @extends Recognizer\n   */\n\n  function TapRecognizer() {\n    Recognizer.apply(this, arguments); // previous time and center,\n    // used for tap counting\n\n    this.pTime = false;\n    this.pCenter = false;\n    this._timer = null;\n    this._input = null;\n    this.count = 0;\n  }\n\n  inherit(TapRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof PinchRecognizer\n     */\n    defaults: {\n      event: 'tap',\n      pointers: 1,\n      taps: 1,\n      interval: 300,\n      // max time between the multi-tap taps\n      time: 250,\n      // max time of the pointer to be down (like finger on the screen)\n      threshold: 9,\n      // a minimal movement is ok, but keep it low\n      posThreshold: 10 // a multi-tap can be a bit off the initial position\n\n    },\n    getTouchAction: function getTouchAction() {\n      return [TOUCH_ACTION_MANIPULATION];\n    },\n    process: function process(input) {\n      var options = this.options;\n      var validPointers = input.pointers.length === options.pointers;\n      var validMovement = input.distance < options.threshold;\n      var validTouchTime = input.deltaTime < options.time;\n      this.reset();\n\n      if (input.eventType & INPUT_START && this.count === 0) {\n        return this.failTimeout();\n      } // we only allow little movement\n      // and we've reached an end event, so a tap is possible\n\n\n      if (validMovement && validTouchTime && validPointers) {\n        if (input.eventType != INPUT_END) {\n          return this.failTimeout();\n        }\n\n        var validInterval = this.pTime ? input.timeStamp - this.pTime < options.interval : true;\n        var validMultiTap = !this.pCenter || getDistance(this.pCenter, input.center) < options.posThreshold;\n        this.pTime = input.timeStamp;\n        this.pCenter = input.center;\n\n        if (!validMultiTap || !validInterval) {\n          this.count = 1;\n        } else {\n          this.count += 1;\n        }\n\n        this._input = input; // if tap count matches we have recognized it,\n        // else it has began recognizing...\n\n        var tapCount = this.count % options.taps;\n\n        if (tapCount === 0) {\n          // no failing requirements, immediately trigger the tap event\n          // or wait as long as the multitap interval to trigger\n          if (!this.hasRequireFailures()) {\n            return STATE_RECOGNIZED;\n          } else {\n            this._timer = setTimeoutContext(function () {\n              this.state = STATE_RECOGNIZED;\n              this.tryEmit();\n            }, options.interval, this);\n            return STATE_BEGAN;\n          }\n        }\n      }\n\n      return STATE_FAILED;\n    },\n    failTimeout: function failTimeout() {\n      this._timer = setTimeoutContext(function () {\n        this.state = STATE_FAILED;\n      }, this.options.interval, this);\n      return STATE_FAILED;\n    },\n    reset: function reset() {\n      clearTimeout(this._timer);\n    },\n    emit: function emit() {\n      if (this.state == STATE_RECOGNIZED) {\n        this._input.tapCount = this.count;\n        this.manager.emit(this.options.event, this._input);\n      }\n    }\n  });\n  /**\n   * Simple way to create a manager with a default set of recognizers.\n   * @param {HTMLElement} element\n   * @param {Object} [options]\n   * @constructor\n   */\n\n  function Hammer(element, options) {\n    options = options || {};\n    options.recognizers = ifUndefined(options.recognizers, Hammer.defaults.preset);\n    return new Manager(element, options);\n  }\n  /**\n   * @const {string}\n   */\n\n\n  Hammer.VERSION = '2.0.7';\n  /**\n   * default settings\n   * @namespace\n   */\n\n  Hammer.defaults = {\n    /**\n     * set if DOM events are being triggered.\n     * But this is slower and unused by simple implementations, so disabled by default.\n     * @type {Boolean}\n     * @default false\n     */\n    domEvents: false,\n\n    /**\n     * The value for the touchAction property/fallback.\n     * When set to `compute` it will magically set the correct value based on the added recognizers.\n     * @type {String}\n     * @default compute\n     */\n    touchAction: TOUCH_ACTION_COMPUTE,\n\n    /**\n     * @type {Boolean}\n     * @default true\n     */\n    enable: true,\n\n    /**\n     * EXPERIMENTAL FEATURE -- can be removed/changed\n     * Change the parent input target element.\n     * If Null, then it is being set the to main element.\n     * @type {Null|EventTarget}\n     * @default null\n     */\n    inputTarget: null,\n\n    /**\n     * force an input class\n     * @type {Null|Function}\n     * @default null\n     */\n    inputClass: null,\n\n    /**\n     * Default recognizer setup when calling `Hammer()`\n     * When creating a new Manager these will be skipped.\n     * @type {Array}\n     */\n    preset: [// RecognizerClass, options, [recognizeWith, ...], [requireFailure, ...]\n    [RotateRecognizer, {\n      enable: false\n    }], [PinchRecognizer, {\n      enable: false\n    }, ['rotate']], [SwipeRecognizer, {\n      direction: DIRECTION_HORIZONTAL\n    }], [PanRecognizer, {\n      direction: DIRECTION_HORIZONTAL\n    }, ['swipe']], [TapRecognizer], [TapRecognizer, {\n      event: 'doubletap',\n      taps: 2\n    }, ['tap']], [PressRecognizer]],\n\n    /**\n     * Some CSS properties can be used to improve the working of Hammer.\n     * Add them to this method and they will be set when creating a new Manager.\n     * @namespace\n     */\n    cssProps: {\n      /**\n       * Disables text selection to improve the dragging gesture. Mainly for desktop browsers.\n       * @type {String}\n       * @default 'none'\n       */\n      userSelect: 'none',\n\n      /**\n       * Disable the Windows Phone grippers when pressing an element.\n       * @type {String}\n       * @default 'none'\n       */\n      touchSelect: 'none',\n\n      /**\n       * Disables the default callout shown when you touch and hold a touch target.\n       * On iOS, when you touch and hold a touch target such as a link, Safari displays\n       * a callout containing information about the link. This property allows you to disable that callout.\n       * @type {String}\n       * @default 'none'\n       */\n      touchCallout: 'none',\n\n      /**\n       * Specifies whether zooming is enabled. Used by IE10>\n       * @type {String}\n       * @default 'none'\n       */\n      contentZooming: 'none',\n\n      /**\n       * Specifies that an entire element should be draggable instead of its contents. Mainly for desktop browsers.\n       * @type {String}\n       * @default 'none'\n       */\n      userDrag: 'none',\n\n      /**\n       * Overrides the highlight color shown when the user taps a link or a JavaScript\n       * clickable element in iOS. This property obeys the alpha value, if specified.\n       * @type {String}\n       * @default 'rgba(0,0,0,0)'\n       */\n      tapHighlightColor: 'rgba(0,0,0,0)'\n    }\n  };\n  var STOP = 1;\n  var FORCED_STOP = 2;\n  /**\n   * Manager\n   * @param {HTMLElement} element\n   * @param {Object} [options]\n   * @constructor\n   */\n\n  function Manager(element, options) {\n    this.options = assign({}, Hammer.defaults, options || {});\n    this.options.inputTarget = this.options.inputTarget || element;\n    this.handlers = {};\n    this.session = {};\n    this.recognizers = [];\n    this.oldCssProps = {};\n    this.element = element;\n    this.input = createInputInstance(this);\n    this.touchAction = new TouchAction(this, this.options.touchAction);\n    toggleCssProps(this, true);\n    each(this.options.recognizers, function (item) {\n      var recognizer = this.add(new item[0](item[1]));\n      item[2] && recognizer.recognizeWith(item[2]);\n      item[3] && recognizer.requireFailure(item[3]);\n    }, this);\n  }\n\n  Manager.prototype = {\n    /**\n     * set options\n     * @param {Object} options\n     * @returns {Manager}\n     */\n    set: function set(options) {\n      assign(this.options, options); // Options that need a little more setup\n\n      if (options.touchAction) {\n        this.touchAction.update();\n      }\n\n      if (options.inputTarget) {\n        // Clean up existing event listeners and reinitialize\n        this.input.destroy();\n        this.input.target = options.inputTarget;\n        this.input.init();\n      }\n\n      return this;\n    },\n\n    /**\n     * stop recognizing for this session.\n     * This session will be discarded, when a new [input]start event is fired.\n     * When forced, the recognizer cycle is stopped immediately.\n     * @param {Boolean} [force]\n     */\n    stop: function stop(force) {\n      this.session.stopped = force ? FORCED_STOP : STOP;\n    },\n\n    /**\n     * run the recognizers!\n     * called by the inputHandler function on every movement of the pointers (touches)\n     * it walks through all the recognizers and tries to detect the gesture that is being made\n     * @param {Object} inputData\n     */\n    recognize: function recognize(inputData) {\n      var session = this.session;\n\n      if (session.stopped) {\n        return;\n      } // run the touch-action polyfill\n\n\n      this.touchAction.preventDefaults(inputData);\n      var recognizer;\n      var recognizers = this.recognizers; // this holds the recognizer that is being recognized.\n      // so the recognizer's state needs to be BEGAN, CHANGED, ENDED or RECOGNIZED\n      // if no recognizer is detecting a thing, it is set to `null`\n\n      var curRecognizer = session.curRecognizer; // reset when the last recognizer is recognized\n      // or when we're in a new session\n\n      if (!curRecognizer || curRecognizer && curRecognizer.state & STATE_RECOGNIZED) {\n        curRecognizer = session.curRecognizer = null;\n      }\n\n      var i = 0;\n\n      while (i < recognizers.length) {\n        recognizer = recognizers[i]; // find out if we are allowed try to recognize the input for this one.\n        // 1.   allow if the session is NOT forced stopped (see the .stop() method)\n        // 2.   allow if we still haven't recognized a gesture in this session, or the this recognizer is the one\n        //      that is being recognized.\n        // 3.   allow if the recognizer is allowed to run simultaneous with the current recognized recognizer.\n        //      this can be setup with the `recognizeWith()` method on the recognizer.\n\n        if (session.stopped !== FORCED_STOP && ( // 1\n        !curRecognizer || recognizer == curRecognizer || // 2\n        recognizer.canRecognizeWith(curRecognizer))) {\n          // 3\n          recognizer.recognize(inputData);\n        } else {\n          recognizer.reset();\n        } // if the recognizer has been recognizing the input as a valid gesture, we want to store this one as the\n        // current active recognizer. but only if we don't already have an active recognizer\n\n\n        if (!curRecognizer && recognizer.state & (STATE_BEGAN | STATE_CHANGED | STATE_ENDED)) {\n          curRecognizer = session.curRecognizer = recognizer;\n        }\n\n        i++;\n      }\n    },\n\n    /**\n     * get a recognizer by its event name.\n     * @param {Recognizer|String} recognizer\n     * @returns {Recognizer|Null}\n     */\n    get: function get(recognizer) {\n      if (recognizer instanceof Recognizer) {\n        return recognizer;\n      }\n\n      var recognizers = this.recognizers;\n\n      for (var i = 0; i < recognizers.length; i++) {\n        if (recognizers[i].options.event == recognizer) {\n          return recognizers[i];\n        }\n      }\n\n      return null;\n    },\n\n    /**\n     * add a recognizer to the manager\n     * existing recognizers with the same event name will be removed\n     * @param {Recognizer} recognizer\n     * @returns {Recognizer|Manager}\n     */\n    add: function add(recognizer) {\n      if (invokeArrayArg(recognizer, 'add', this)) {\n        return this;\n      } // remove existing\n\n\n      var existing = this.get(recognizer.options.event);\n\n      if (existing) {\n        this.remove(existing);\n      }\n\n      this.recognizers.push(recognizer);\n      recognizer.manager = this;\n      this.touchAction.update();\n      return recognizer;\n    },\n\n    /**\n     * remove a recognizer by name or instance\n     * @param {Recognizer|String} recognizer\n     * @returns {Manager}\n     */\n    remove: function remove(recognizer) {\n      if (invokeArrayArg(recognizer, 'remove', this)) {\n        return this;\n      }\n\n      recognizer = this.get(recognizer); // let's make sure this recognizer exists\n\n      if (recognizer) {\n        var recognizers = this.recognizers;\n        var index = inArray(recognizers, recognizer);\n\n        if (index !== -1) {\n          recognizers.splice(index, 1);\n          this.touchAction.update();\n        }\n      }\n\n      return this;\n    },\n\n    /**\n     * bind event\n     * @param {String} events\n     * @param {Function} handler\n     * @returns {EventEmitter} this\n     */\n    on: function on(events, handler) {\n      if (events === undefined) {\n        return;\n      }\n\n      if (handler === undefined) {\n        return;\n      }\n\n      var handlers = this.handlers;\n      each(splitStr(events), function (event) {\n        handlers[event] = handlers[event] || [];\n        handlers[event].push(handler);\n      });\n      return this;\n    },\n\n    /**\n     * unbind event, leave emit blank to remove all handlers\n     * @param {String} events\n     * @param {Function} [handler]\n     * @returns {EventEmitter} this\n     */\n    off: function off(events, handler) {\n      if (events === undefined) {\n        return;\n      }\n\n      var handlers = this.handlers;\n      each(splitStr(events), function (event) {\n        if (!handler) {\n          delete handlers[event];\n        } else {\n          handlers[event] && handlers[event].splice(inArray(handlers[event], handler), 1);\n        }\n      });\n      return this;\n    },\n\n    /**\n     * emit event to the listeners\n     * @param {String} event\n     * @param {Object} data\n     */\n    emit: function emit(event, data) {\n      // we also want to trigger dom events\n      if (this.options.domEvents) {\n        triggerDomEvent(event, data);\n      } // no handlers, so skip it all\n\n\n      var handlers = this.handlers[event] && this.handlers[event].slice();\n\n      if (!handlers || !handlers.length) {\n        return;\n      }\n\n      data.type = event;\n\n      data.preventDefault = function () {\n        data.srcEvent.preventDefault();\n      };\n\n      var i = 0;\n\n      while (i < handlers.length) {\n        handlers[i](data);\n        i++;\n      }\n    },\n\n    /**\n     * destroy the manager and unbinds all events\n     * it doesn't unbind dom events, that is the user own responsibility\n     */\n    destroy: function destroy() {\n      this.element && toggleCssProps(this, false);\n      this.handlers = {};\n      this.session = {};\n      this.input.destroy();\n      this.element = null;\n    }\n  };\n  /**\n   * add/remove the css properties as defined in manager.options.cssProps\n   * @param {Manager} manager\n   * @param {Boolean} add\n   */\n\n  function toggleCssProps(manager, add) {\n    var element = manager.element;\n\n    if (!element.style) {\n      return;\n    }\n\n    var prop;\n    each(manager.options.cssProps, function (value, name) {\n      prop = prefixed(element.style, name);\n\n      if (add) {\n        manager.oldCssProps[prop] = element.style[prop];\n        element.style[prop] = value;\n      } else {\n        element.style[prop] = manager.oldCssProps[prop] || '';\n      }\n    });\n\n    if (!add) {\n      manager.oldCssProps = {};\n    }\n  }\n  /**\n   * trigger dom event\n   * @param {String} event\n   * @param {Object} data\n   */\n\n\n  function triggerDomEvent(event, data) {\n    var gestureEvent = document.createEvent('Event');\n    gestureEvent.initEvent(event, true, true);\n    gestureEvent.gesture = data;\n    data.target.dispatchEvent(gestureEvent);\n  }\n\n  assign(Hammer, {\n    INPUT_START: INPUT_START,\n    INPUT_MOVE: INPUT_MOVE,\n    INPUT_END: INPUT_END,\n    INPUT_CANCEL: INPUT_CANCEL,\n    STATE_POSSIBLE: STATE_POSSIBLE,\n    STATE_BEGAN: STATE_BEGAN,\n    STATE_CHANGED: STATE_CHANGED,\n    STATE_ENDED: STATE_ENDED,\n    STATE_RECOGNIZED: STATE_RECOGNIZED,\n    STATE_CANCELLED: STATE_CANCELLED,\n    STATE_FAILED: STATE_FAILED,\n    DIRECTION_NONE: DIRECTION_NONE,\n    DIRECTION_LEFT: DIRECTION_LEFT,\n    DIRECTION_RIGHT: DIRECTION_RIGHT,\n    DIRECTION_UP: DIRECTION_UP,\n    DIRECTION_DOWN: DIRECTION_DOWN,\n    DIRECTION_HORIZONTAL: DIRECTION_HORIZONTAL,\n    DIRECTION_VERTICAL: DIRECTION_VERTICAL,\n    DIRECTION_ALL: DIRECTION_ALL,\n    Manager: Manager,\n    Input: Input,\n    TouchAction: TouchAction,\n    TouchInput: TouchInput,\n    MouseInput: MouseInput,\n    PointerEventInput: PointerEventInput,\n    TouchMouseInput: TouchMouseInput,\n    SingleTouchInput: SingleTouchInput,\n    Recognizer: Recognizer,\n    AttrRecognizer: AttrRecognizer,\n    Tap: TapRecognizer,\n    Pan: PanRecognizer,\n    Swipe: SwipeRecognizer,\n    Pinch: PinchRecognizer,\n    Rotate: RotateRecognizer,\n    Press: PressRecognizer,\n    on: addEventListeners,\n    off: removeEventListeners,\n    each: each,\n    merge: merge,\n    extend: extend,\n    assign: assign,\n    inherit: inherit,\n    bindFn: bindFn,\n    prefixed: prefixed\n  }); // this prevents errors when Hammer is loaded in the presence of an AMD\n  //  style loader but by script tag, not by the loader.\n\n  var freeGlobal = typeof window !== 'undefined' ? window : typeof self !== 'undefined' ? self : {}; // jshint ignore:line\n\n  freeGlobal.Hammer = Hammer;\n\n  if (typeof define === 'function' && define.amd) {\n    define(function () {\n      return Hammer;\n    });\n  } else if (typeof module != 'undefined' && module.exports) {\n    module.exports = Hammer;\n  } else {\n    window[exportName] = Hammer;\n  }\n})(window, document, 'Hammer');","/**\n * @module 1-liners/isFunction\n *\n * @description\n *\n * Same as `typeof value === 'function'`.\n *\n * @example\n *\n * \tconst isFunction = require('1-liners/isFunction');\n *\n * \tisFunction(function() {});        // => true\n * \tisFunction(function named() {});  // => true\n *\n * \tisFunction('any other value');    // => false\n *\n */\n'use strict';\n\nexports.__esModule = true;\n\nexports['default'] = function (value) {\n  return typeof value === 'function';\n};\n\nmodule.exports = exports['default'];","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (val, props) {\n  var _transform, _overlay;\n\n  var zIndex = props.zIndex,\n      left = props.left,\n      right = props.right,\n      height = props.height,\n      handleWidth = props.handleWidth,\n      overlayColor = props.overlayColor,\n      fadeOut = props.fadeOut,\n      offset = props.offset;\n  var clientWidth = 1000;\n  var width = props.width;\n\n  if (typeof document !== \"undefined\") {\n    clientWidth = document.body.clientWidth;\n    if (/\\D/.test(width)) width = document.body.clientWidth * (width.match(/\\d*/) / 100);\n  }\n\n  var opacity = (val - offset) / width;\n  if (right) val = width - val;else val = val - width;\n  var drawer = {\n    display: \"block\",\n    width: width,\n    height: height,\n    overflow: \"auto\"\n  };\n  var transform = (_transform = {\n    boxSizing: \"content-box\",\n    pointer: \"cursor\",\n    position: \"fixed\",\n    display: \"block\",\n    zIndex: zIndex,\n    width: width\n  }, _defineProperty(_transform, right ? \"paddingLeft\" : \"paddingRight\", handleWidth), _defineProperty(_transform, \"maxWidth\", width), _defineProperty(_transform, \"height\", height), _defineProperty(_transform, \"top\", 0), _defineProperty(_transform, right ? \"right\" : \"left\", 0), _defineProperty(_transform, \"margin\", 0), _defineProperty(_transform, \"transform\", \"translate3d(\" + val + \"px, 0, 0)\"), _defineProperty(_transform, \"WebkitTransform\", \"translate3d(\" + val + \"px, 0, 0)\"), _defineProperty(_transform, \"opacity\", fadeOut ? opacity : 1), _transform);\n  var overlayTransform = right ? -width : width;\n  var overlay = (_overlay = {\n    zIndex: -2,\n    pointer: \"cursor\",\n    position: \"fixed\",\n    width: clientWidth,\n    height: \"100%\",\n    background: overlayColor,\n    opacity: opacity,\n    top: 0\n  }, _defineProperty(_overlay, right ? \"right\" : \"left\", 0), _defineProperty(_overlay, \"margin\", 0), _defineProperty(_overlay, \"transform\", \"translate3d(\" + overlayTransform + \"px, 0, 0)\"), _defineProperty(_overlay, \"WebkitTransform\", \"translate3d(\" + overlayTransform + \"px, 0, 0)\"), _overlay);\n  return {\n    drawer: drawer,\n    transform: transform,\n    overlay: overlay\n  };\n};\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import { createSelector } from 'reselect';\n\nconst allMailsSelector = state => state.allMails;\nconst filterAttrSelector = state => state.filterAttr;\nconst searchStringSelector = state => state.searchString;\n\nconst filterBucket = (mails, bucket) => {\n  const newMails = [];\n  mails.forEach(mail => {\n    if (bucket === mail.bucket) {\n      newMails.push(mail);\n    }\n  });\n  return newMails;\n};\nconst filterTag = (mails, tag) => {\n  const newMails = [];\n  mails.forEach(mail => {\n    if (mail.tags && mail.tags.indexOf(tag) !== -1) {\n      newMails.push(mail);\n    }\n  });\n  return newMails;\n};\nconst filterMaiil = (allMails, filterAttr, searchString) => {\n  let newMails = filterBucket(allMails, filterAttr.bucket);\n  if (filterAttr.tag) {\n    newMails = filterTag(allMails, filterAttr.tag);\n  }\n  if (searchString) {\n    const search = searchString.toUpperCase();\n    newMails = newMails.filter(mail =>\n      `${mail.email}${mail.body}${mail.subject}`.toUpperCase().includes(search)\n    );\n  }\n  return newMails;\n};\n\nexport default createSelector(\n  allMailsSelector,\n  filterAttrSelector,\n  searchStringSelector,\n  filterMaiil\n);\n","import styled from 'styled-components';\nimport { palette } from 'styled-theme';\nimport {\n  boxShadow,\n  borderRadius,\n  transition,\n} from '@iso/lib/helpers/style_utils';\nimport WithDirection from '@iso/lib/helpers/rtl';\n\nconst MailBox = styled.div`\n  width: 100%;\n  height: calc(100vh - 137px);\n  display: flex;\n\n  @media only screen and (max-width: 767px) {\n    height: calc(100vh - 110px);\n  }\n\n  .isoLeftWrapper {\n    display: flex;\n    flex-shrink: 0;\n    flex-direction: column;\n    background-color: #ffffff;\n    border-right: ${props => (props['data-rtl'] === 'rtl' ? 0 : 1)}px solid\n      ${palette('border', 4)};\n    border-left: ${props => (props['data-rtl'] === 'rtl' ? 1 : 0)}px solid\n      ${palette('border', 4)};\n    width: 250px;\n\n    .isoMailOptions {\n      width: 100%;\n      display: flex;\n      flex-direction: column;\n      height: 100%;\n      overflow-y: auto;\n    }\n  }\n\n  .isoMiddleWrapper {\n    display: flex;\n    flex-direction: column;\n    flex-shrink: 0;\n    background-color: #ffffff;\n    /* border-right: 1px solid ${palette('border', 4)}; */\n    border-right: ${props => (props['data-rtl'] === 'rtl' ? 0 : 1)}px solid\n      ${palette('border', 4)};\n    border-left: ${props => (props['data-rtl'] === 'rtl' ? 1 : 0)}px solid\n      ${palette('border', 4)};\n    width: 400px;\n\n    @media only screen and (max-width: 767px) {\n      width: 100%;\n    }\n\n    @media only screen and (min-width: 767px) and (max-width: 990px) {\n      width: 320px;\n    }\n\n    @media only screen and (min-width: 991px) and (max-width: 1366px) {\n      width: 340px;\n    }\n\n    .isoBucketLabel {\n      width: 100%;\n      height: 80px;\n      display: flex;\n      flex-shrink: 0;\n      align-items: center;\n      justify-content: space-between;\n      padding: 0px 30px;\n      background-color: ${palette('grayscale', 6)};\n      border-bottom: 1px solid ${palette('border', 0)};\n\n      h3 {\n        font-size: 16px;\n        font-weight: 500;\n        text-transform: capitalize;\n        color: ${palette('secondary', 2)};\n        line-height: 1.1;\n      }\n\n      @media only screen and (max-width: 767px) {\n        height: 60px;\n        padding: 0 20px;\n      }\n    }\n\n    .isoSearchMailWrapper {\n      width: 100%;\n      height: 40px;\n      display: flex;\n      flex-shrink: 0;\n      align-items: center;\n      justify-content: space-between;\n      background-color: ${palette('grayscale', 6)};\n      border-bottom: 1px solid ${palette('border', 0)};\n\n      input {\n        font-size: 14px;\n        font-weight: 400;\n        color: ${palette('text', 2)};\n        line-height: inherit;\n        height: 39px;\n        width: 100%;\n        padding: 0 30px;\n        margin-bottom: 0;\n        border: 0;\n        outline: 0 !important;\n        overflow: hidden;\n        background-color: ${palette('grayscale', 6)};\n        ${borderRadius()};\n        ${boxShadow()};\n        ${transition()};\n\n        &:focus,\n        &:hover {\n          border-color: transparent;\n          ${boxShadow()};\n        }\n\n        @media only screen and (max-width: 767px) {\n          padding: 0 20px;\n        }\n\n        &::-webkit-input-placeholder {\n          color: ${palette('grayscale', 0)};\n        }\n\n        &:-moz-placeholder {\n          color: ${palette('grayscale', 0)};\n        }\n\n        &::-moz-placeholder {\n          color: ${palette('grayscale', 0)};\n        }\n        &:-ms-input-placeholder {\n          color: ${palette('grayscale', 0)};\n        }\n      }\n\n      .ant-input-suffix {\n        display: none;\n      }\n    }\n  }\n\n  .isoSingleMailWrapper {\n    width: 100%;\n    display: flex;\n    flex-direction: column;\n    background-color: #ffffff;\n\n    .isoNoMailMsg {\n      font-size: 28px;\n      font-weight: 300;\n      text-transform: capitalize;\n      color: ${palette('text', 2)};\n      text-align: center;\n      width: 100%;\n      height: 100%;\n      min-height: calc(100vh - 137px);\n      display: flex;\n      align-items: center;\n      justify-content: center;\n    }\n  }\n\n  .isoBackCatBtn {\n    font-size: 14px;\n    color: ${palette('secondary', 0)};\n    height: 35px;\n    padding: 0 15px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background-color: #ffffff;\n    outline: 0;\n    border: 1px solid ${palette('border', 0)};\n    cursor: pointer;\n    ${transition()};\n\n    i {\n      font-size: 20px;\n      color: ${palette('secondary', 0)};\n      ${transition()};\n    }\n\n    &:hover {\n      color: ${palette('primary', 0)};\n      background-color: #fcfcfc;\n\n      i {\n        color: ${palette('primary', 0)};\n      }\n    }\n  }\n`;\n\nexport default WithDirection(MailBox);\n","import styled from 'styled-components';\nimport { palette } from 'styled-theme';\nimport { transition } from '@iso/lib/helpers/style_utils';\nimport WithDirection from '@iso/lib/helpers/rtl';\nconst WDSingleMailActions = styled.div`\n  width: 100%;\n  height: 80px;\n  display: flex;\n  flex-shrink: 0;\n  align-items: center;\n  justify-content: flex-start;\n  padding: 0px 30px;\n  background-color: ${palette('grayscale', 6)};\n  border-bottom: 1px solid ${palette('border', 0)};\n\n  @media only screen and (max-width: 767px) {\n    padding: 0 15px;\n    height: 60px;\n    overflow: hidden;\n    overflow-x: auto;\n  }\n\n  .mailBackBtn {\n    color: ${palette('secondary', 0)};\n    width: auto;\n    height: 35px;\n    padding: 0 10px;\n    font-size: 14px;\n    font-weight: 500;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background-color: #ffffff;\n    outline: 0;\n    border: 1px solid ${palette('border', 0)};\n    margin: ${props =>\n      props['data-rtl'] === 'rtl' ? '0 -1px 0 15px' : '0 15px 0 -1px'};\n    cursor: pointer;\n    ${transition()};\n\n    @media only screen and (max-width: 479px) {\n      margin: ${props =>\n        props['data-rtl'] === 'rtl' ? '0 -1px 0 5px' : '0 5px 0 -1px'};\n    }\n\n    i {\n      font-size: 16px;\n      color: ${palette('secondary', 0)};\n      ${transition()};\n    }\n\n    &:hover {\n      color: ${palette('primary', 0)};\n      background-color: darken(#ffffff, 1%);\n\n      i {\n        color: ${palette('primary', 0)};\n      }\n    }\n  }\n\n  .mailMoveDropdown {\n    .ant-popover-inner-content {\n      li {\n        cursor: pointer;\n        padding: 3px 0;\n\n        &:hover {\n          color: ${palette('primary', 0)};\n        }\n      }\n    }\n  }\n`;\n\nconst WDMailActionsWrapper = styled.div`\n  display: -webkit-flex;\n  display: -ms-flex;\n  display: flex;\n\n  button {\n    font-size: 16px;\n    color: ${palette('secondary', 0)};\n    text-align: center;\n    width: 35px;\n    height: 35px;\n    padding: 0;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background-color: #ffffff;\n    outline: 0;\n    border: 1px solid ${palette('border', 0)};\n    margin: ${props =>\n      props['data-rtl'] === 'rtl' ? '0 -1px 0 0' : '0 0 0 -1px'};\n    cursor: pointer;\n    ${transition()};\n\n    i {\n      font-size: 16px;\n      color: ${palette('secondary', 0)};\n      width: 100%;\n      ${transition()};\n    }\n\n    &:first-child {\n      margin: ${props =>\n        props['data-rtl'] === 'rtl' ? '0 0 0 -1px' : '0 -1px 0 0'};\n    }\n\n    &:hover {\n      color: ${palette('primary', 0)};\n      background-color: #fcfcfc;\n\n      i {\n        color: ${palette('primary', 0)};\n      }\n    }\n\n    &.mailBackBtn {\n      width: auto;\n      padding: 0 10px;\n      font-size: 14px;\n    }\n  }\n`;\n\nconst WDMailCategoryWrapper = styled(WDMailActionsWrapper)`\n  margin: ${props =>\n    props['data-rtl'] === 'rtl' ? '0 20px 0 0' : '0 0 0 20px'};\n\n  @media only screen and (max-width: 767px) {\n    margin: ${props =>\n      props['data-rtl'] === 'rtl' ? '0 auto 0 10px' : '0 10px 0 auto'};\n  }\n\n  @media only screen and (max-width: 479px) {\n    margin: ${props =>\n      props['data-rtl'] === 'rtl' ? '0 0 0 5px' : '0 5px 0 0'};\n  }\n`;\n\nconst WDMailPaginationWrapper = styled(WDMailActionsWrapper)`\n  margin: ${props =>\n    props['data-rtl'] === 'rtl' ? '0 auto 0 0' : '0 0 0 auto'};\n`;\n\nconst MailActionDropdown = styled.ul`\n  li {\n    cursor: pointer;\n    padding: 3px 0;\n\n    &:hover {\n      color: ${palette('primary', 0)};\n    }\n  }\n`;\n\nconst SingleMailActions = WithDirection(WDSingleMailActions);\nconst MailCategoryWrapper = WithDirection(WDMailCategoryWrapper);\nconst MailPaginationWrapper = WithDirection(WDMailPaginationWrapper);\nconst MailActionsWrapper = WithDirection(WDMailActionsWrapper);\n\nexport {\n  SingleMailActions,\n  MailActionsWrapper,\n  MailCategoryWrapper,\n  MailPaginationWrapper,\n  MailActionDropdown,\n};\n","import React from 'react';\nimport Popover from '../uielements/popover';\nimport Popconfirm from '../Feedback/Popconfirm';\nimport notification from '../Notification';\nimport { buckets } from './MailBuckets';\nimport { tags } from './MailTags';\nimport {\n  SingleMailActions,\n  MailActionsWrapper,\n  MailCategoryWrapper,\n  MailPaginationWrapper,\n  MailActionDropdown,\n} from './SingleMailActions.style';\nimport { direction } from '@iso/lib/helpers/rtl';\n\nfunction DeleteButton() {\n  return (\n    <Popconfirm\n      title={`Sure to delete This mail?`}\n      okText=\"DELETE\"\n      cancelText=\"No\"\n      onConfirm={() => {\n        notification('error', `Deleted selected mail`, '');\n      }}\n    >\n      <button type=\"button\" className=\"mailDelete\">\n        <i className=\"ion-android-delete\" />\n      </button>\n    </Popconfirm>\n  );\n}\n\nfunction MoveMailButton() {\n  const bucketOptions = buckets.map(bucket => (\n    <li\n      onClick={() => {\n        notification('success', `Massage Moved Successfully`, '');\n      }}\n      key={bucket}\n    >\n      {bucket}\n    </li>\n  ));\n  const content = <MailActionDropdown>{bucketOptions}</MailActionDropdown>;\n  return (\n    <Popover\n      title={`Move mail`}\n      content={content}\n      overlayClassName=\"mailMoveDropdown\"\n    >\n      <button type=\"button\" className=\"mailArchive\">\n        <i className=\"ion-android-folder\" />\n      </button>\n    </Popover>\n  );\n}\n\nfunction SelectTagButton() {\n  const tagOptions = tags.map(tag => (\n    <li\n      onClick={() => {\n        notification('success', `Label Added`, '');\n      }}\n      key={tag}\n    >\n      {tag}\n    </li>\n  ));\n  const content = <MailActionDropdown>{tagOptions}</MailActionDropdown>;\n  return (\n    <Popover\n      title={`Select tag`}\n      content={content}\n      overlayClassName=\"mailMoveDropdown\"\n    >\n      <button type=\"button\" className=\"mailReport\">\n        <i className=\"ion-pricetags\" />\n      </button>\n    </Popover>\n  );\n}\n\nexport default function({ mail, filterMails, selectMail, toggleListVisible }) {\n  const index = filterMails.findIndex(filterMail => filterMail.id === mail.id);\n  const toggleView = () => {\n    toggleListVisible();\n  };\n  return (\n    <SingleMailActions className=\"isoMailActionsController\">\n      {toggleListVisible ? (\n        <button className=\"mailBackBtn\" onClick={toggleView}>\n          Inbox\n        </button>\n      ) : (\n        ''\n      )}\n      <MailActionsWrapper className=\"isoMailActions\">\n        <button\n          type=\"button\"\n          className=\"mailArchive\"\n          onClick={() => {\n            notification('success', 'this mail archived');\n          }}\n        >\n          <i className=\"ion-android-archive\" />\n        </button>\n\n        <button\n          type=\"button\"\n          className=\"mailReport\"\n          onClick={() => {\n            notification('success', 'Reported as spam');\n          }}\n        >\n          <i className=\"ion-android-alert\" />\n        </button>\n\n        <DeleteButton />\n      </MailActionsWrapper>\n\n      <MailCategoryWrapper className=\"isoMailMove\">\n        <MoveMailButton />\n        <SelectTagButton />\n      </MailCategoryWrapper>\n\n      <MailPaginationWrapper className=\"isoSingleMailPagination\">\n        {index === 0 ? (\n          ''\n        ) : (\n          <button\n            type=\"button\"\n            className=\"prevPage\"\n            onClick={() => selectMail(filterMails[index - 1].id)}\n          >\n            <i\n              className={\n                direction === 'rtl' ? 'ion-chevron-right' : 'ion-chevron-left'\n              }\n            />\n          </button>\n        )}\n\n        {index + 1 === filterMails.length ? (\n          ''\n        ) : (\n          <button\n            type=\"button\"\n            className=\"nextPage\"\n            onClick={() => selectMail(filterMails[index + 1].id)}\n          >\n            <i\n              className={\n                direction === 'rtl' ? 'ion-chevron-left' : 'ion-chevron-right'\n              }\n            />\n          </button>\n        )}\n      </MailPaginationWrapper>\n    </SingleMailActions>\n  );\n}\n","import styled from 'styled-components';\nimport { palette } from 'styled-theme';\nimport { borderRadius, transition } from '@iso/lib/helpers/style_utils';\nimport WithDirection from '@iso/lib/helpers/rtl';\nconst SingleMailContents = styled.div`\n  display: flex;\n  flex-direction: column;\n  flex-shrink: 0;\n  height: 100%;\n\n  .isoSingleMail {\n    width: 100%;\n    display: flex;\n    flex-direction: column;\n    height: 100%;\n    overflow-y: auto;\n  }\n`;\n\nconst WDSingleMailHeader = styled.div`\n  width: 100%;\n  display: flex;\n  align-items: center;\n  padding: 35px;\n  flex-shrink: 0;\n  border-bottom: 1px solid ${palette('border', 0)};\n\n  @media only screen and (max-width: 767px) {\n    padding: 35px 20px;\n  }\n\n  h2 {\n    font-size: 18px;\n    font-weight: 400;\n    color: ${palette('secondary', 2)};\n    line-height: 1.5;\n    margin: 0;\n    text-align: left;\n  }\n\n  .label {\n    font-size: 12px;\n    font-weight: 400;\n    color: #ffffff;\n    line-height: 1;\n    padding: 0 15px;\n    height: 25px;\n    line-height: 25px;\n    background-color: ${palette('primary', 0)};\n    text-transform: capitalize;\n    margin: ${props =>\n      props['data-rtl'] === 'rtl' ? '0 25px 0 0' : '0 0 0 25px'};\n  }\n`;\n\nconst WDSingleMailInfo = styled.div`\n  width: 100%;\n  display: flex;\n  align-items: center;\n  flex-shrink: 0;\n  padding: 25px 35px;\n  border-bottom: 1px solid ${palette('border', 0)};\n\n  @media only screen and (max-width: 767px) {\n    padding: 25px 20px;\n  }\n\n  .isoRecipentsImg {\n    width: 48px;\n    height: 48px;\n    display: -webkit-inline-flex;\n    display: -ms-inline-flex;\n    display: inline-flex;\n    align-items: center;\n    justify-content: center;\n    overflow: hidden;\n    flex-shrink: 0;\n    ${borderRadius('50%')};\n\n    img {\n      width: 100%;\n      height: 100%;\n      object-fit: cover;\n    }\n\n    span {\n      width: 100%;\n      height: 100%;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      background-color: ${palette('color', 4)};\n      font-size: 16px;\n      font-weight: 300;\n      color: #fff;\n      letter-spacing: 1px;\n    }\n  }\n\n  .isoMailAddress {\n    width: 100%;\n    padding: ${props =>\n      props['data-rtl'] === 'rtl' ? '0 20px 0 0' : '0 0 0 20px'};\n    display: flex;\n    flex-direction: column;\n    text-align: ${props => (props['data-rtl'] === 'rtl' ? 'right' : 'left')};\n\n    .isoAddress {\n      width: 100%;\n      display: flex;\n      justify-content: space-between;\n      align-items: baseline;\n      position: relative;\n\n      h3 {\n        font-size: 14px;\n        font-weight: 700;\n        color: ${palette('text', 0)};\n        line-height: 1.1;\n        margin: 0 0 8px;\n\n        @media only screen and (max-width: 767px) {\n          line-height: 1.5;\n        }\n\n        span {\n          font-size: inherit;\n          font-weight: 400;\n          color: ${palette('secondary', 2)};\n          padding: ${props =>\n            props['data-rtl'] === 'rtl' ? '0 5px 0 0' : '0 0 0 5px'};\n          display: -webkit-inline-flex;\n          display: -ms-inline-flex;\n          display: inline-flex;\n        }\n      }\n\n      .mailDate {\n        font-size: 13px;\n        font-weight: 400;\n        color: ${palette('secondary', 2)};\n        flex-shrink: 0;\n\n        @media only screen and (max-width: 767px) {\n          position: absolute;\n          right: ${props => (props['data-rtl'] === 'rtl' ? 'inherit' : '0')};\n          left: ${props => (props['data-rtl'] === 'rtl' ? '0' : 'inherit')};\n        }\n      }\n    }\n\n    p {\n      font-size: 13px;\n      font-weight: 400;\n      color: ${palette('secondary', 2)};\n      line-height: 1.1;\n\n      span {\n        font-size: inherit;\n        font-weight: 700;\n        color: ${palette('text', 0)};\n      }\n    }\n  }\n`;\n\nconst WDSingleMailBody = styled.div`\n  padding: 30px 35px;\n  text-align: ${props => (props['data-rtl'] === 'rtl' ? 'right' : 'left')};\n  flex-shrink: 0;\n  border-bottom: 1px solid ${palette('border', 0)};\n\n  @media only screen and (max-width: 767px) {\n    padding: 30px 20px;\n  }\n\n  p {\n    font-size: 14px;\n    font-weight: 400;\n    color: ${palette('text', 3)};\n    line-height: 1.5;\n    margin-bottom: 21px;\n  }\n`;\n\nconst WDSingleMailReply = styled.div`\n  width: 100%;\n  display: flex;\n  align-items: center;\n  padding: 35px;\n  flex-shrink: 0;\n\n  @media only screen and (max-width: 767px) {\n    padding: 35px 20px;\n  }\n\n  .isoComposeMailWrapper {\n    padding: 0;\n    height: auto;\n    overflow: hidden;\n  }\n\n  .isoReplyMailBtn {\n    width: 100%;\n    height: 80px;\n    display: -webkit-flex;\n    display: -ms-flex;\n    display: flex;\n    justify-content: flex-start;\n    align-items: flex-start;\n    font-size: 14px;\n    color: ${palette('text', 2)};\n    border: 1px solid ${palette('border', 0)};\n    padding: 10px 15px;\n\n    span {\n      font-size: inherit;\n      color: ${palette('text', 2)};\n      text-decoration: underline;\n      padding: ${props =>\n        props['data-rtl'] === 'rtl' ? '0 3px 0 0' : '0 0 0 3px'};\n      cursor: pointer;\n      ${transition()};\n\n      &:hover {\n        color: ${palette('primary', 0)};\n      }\n    }\n  }\n`;\n\nconst SingleMailHeader = WithDirection(WDSingleMailHeader);\nconst SingleMailInfo = WithDirection(WDSingleMailInfo);\nconst SingleMailBody = WithDirection(WDSingleMailBody);\nconst SingleMailReply = WithDirection(WDSingleMailReply);\n\nexport {\n  SingleMailContents,\n  SingleMailHeader,\n  SingleMailInfo,\n  SingleMailBody,\n  SingleMailReply,\n};\n","import React from 'react';\nimport ComposeMail from './ComposeMail';\nimport { timeDifference } from '@iso/lib/helpers/utility';\nimport MailAction from './SingleMailActions';\nimport { tags, tagColor } from './MailTags.js';\nimport {\n  SingleMailContents,\n  SingleMailHeader,\n  SingleMailInfo,\n  SingleMailBody,\n  SingleMailReply,\n} from './SingleMail.style';\n\nexport default function singleMail(\n  allMail,\n  filterMails,\n  index,\n  replyMail,\n  changeReplyMail,\n  selectMail,\n  toggleListVisible\n) {\n  const mail = allMail[index];\n  const recpName = mail.name;\n  const signature = {\n    splitLet: recpName\n      .match(/\\b(\\w)/g)\n      .join('')\n      .split('', 2),\n  };\n\n  const labelColor = mail.tags\n    ? tagColor[tags.findIndex(tags => tags === mail.tags)]\n    : '';\n\n  return (\n    <SingleMailContents className=\"isoSingleMailContents\">\n      <MailAction\n        mail={mail}\n        filterMails={filterMails}\n        selectMail={selectMail}\n        toggleListVisible={toggleListVisible}\n      />\n      <div className=\"isoSingleMail\">\n        <SingleMailHeader className=\"isoMailHeader\">\n          <h2>{mail.subject}</h2>\n          <span className=\"label\" style={{ backgroundColor: labelColor }}>\n            {mail.tags ? mail.tags : mail.bucket}\n          </span>\n        </SingleMailHeader>\n\n        <SingleMailInfo className=\"isoMailInfo\">\n          <div className=\"isoRecipentsImg\">\n            {mail.img ? (\n              <img alt=\"#\" src={mail.img} />\n            ) : (\n              <span>{signature.splitLet}</span>\n            )}\n          </div>\n          <div className=\"isoMailAddress\">\n            <div className=\"isoAddress\">\n              <h3>\n                {mail.name} <span>&lt;{mail.email}&gt;</span>\n              </h3>\n              <span className=\"mailDate\">{timeDifference(mail.date)}</span>\n            </div>\n            <p>\n              to <span>me</span>\n            </p>\n          </div>\n        </SingleMailInfo>\n\n        <SingleMailBody className=\"isoMailBody\">\n          <p>{mail.body}</p>\n        </SingleMailBody>\n\n        <SingleMailReply className=\"isoReplyMail\">\n          {replyMail ? (\n            <ComposeMail allMail={allMail} />\n          ) : (\n            <div\n              onClick={event => changeReplyMail(true)}\n              className=\"isoReplyMailBtn\"\n            >\n              Click here to <span>Reply</span>\n            </div>\n          )}\n        </SingleMailReply>\n      </div>\n    </SingleMailContents>\n  );\n}\n","import styled from 'styled-components';\nimport { palette } from 'styled-theme';\nimport { borderRadius, transition } from '@iso/lib/helpers/style_utils';\nimport WithDirection from '@iso/lib/helpers/rtl';\n\nconst MailListWrapper = styled.div`\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  overflow-y: auto;\n\n  .isoMailList {\n    width: 100%;\n    padding: 30px;\n    display: flex;\n    flex-shrink: 0;\n    border-bottom: 1px solid ${palette('border', 0)};\n    overflow: hidden;\n    position: relative;\n    text-align: ${props => (props['data-rtl'] === 'rtl' ? 'right' : 'left')};\n    cursor: pointer;\n    ${transition()};\n\n    .isoLabelIndicator {\n      width: 0;\n      height: 0;\n      border-style: solid;\n      border-width: ${props =>\n        props['data-rtl'] === 'rtl' ? '0 15px 15px 0;' : '15px 15px 0 0'};\n      border-color: transparent transparent transparent transparent;\n      position: absolute;\n      top: 0;\n      left: ${props => (props['data-rtl'] === 'rtl' ? 'inherit' : '0')};\n      right: ${props => (props['data-rtl'] === 'rtl' ? '0' : 'inherit')};\n    }\n\n    &:last-child {\n      border-bottom: 0;\n    }\n\n    .isoRecipentsImg {\n      width: 48px;\n      height: 48px;\n      display: -webkit-inline-flex;\n      display: -ms-inline-flex;\n      display: inline-flex;\n      align-items: center;\n      justify-content: center;\n      overflow: hidden;\n      flex-shrink: 0;\n      ${borderRadius('50%')};\n\n      img {\n        width: 100%;\n        height: 100%;\n        object-fit: cover;\n      }\n\n      span {\n        width: 100%;\n        height: 100%;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        background-color: ${palette('color', 4)};\n        font-size: 16px;\n        font-weight: 300;\n        color: #fff;\n        letter-spacing: 1px;\n      }\n    }\n\n    .isoMailInfo {\n      width: 100%;\n      padding: ${props =>\n        props['data-rtl'] === 'rtl' ? '0 20px 0 0' : '0 0 0 20px'};\n\n      .infoHead {\n        width: 100%;\n        display: flex;\n        align-items: baseline;\n        justify-content: space-between;\n        margin-bottom: 3px;\n\n        .isoRecipents {\n          font-size: 13px;\n          font-weight: 400;\n          color: ${palette('secondary', 2)};\n        }\n\n        .isoReceiveDate {\n          font-size: 11px;\n          font-weight: 400;\n          color: ${palette('secondary', 2)};\n          flex-shrink: 0;\n        }\n      }\n\n      .isoSubject {\n        font-size: 14px;\n        font-weight: 500;\n        color: ${palette('secondary', 0)};\n        margin: 0;\n      }\n    }\n\n    &.unreadMail {\n      background-color: ${palette('secondary', 8)};\n    }\n\n    &:hover {\n      background-color: ${palette('secondary', 8)};\n    }\n\n    &.activeMail {\n      background-color: ${palette('secondary', 9)};\n    }\n  }\n\n  .isoDescription {\n    white-space: nowrap;\n    text-overflow: ellipsis;\n    padding: 0 30px;\n    width: 100%;\n    overflow: hidden;\n  }\n`;\n\nexport default WithDirection(MailListWrapper);\n","import React from 'react';\nimport { timeDifference } from '@iso/lib/helpers/utility';\nimport { tags, tagColor } from './MailTags.js';\nimport MailListWrapper from './MailList.style';\nimport { direction } from '@iso/lib/helpers/rtl';\n\nexport default function mailList(\n  mails,\n  selectMail,\n  selectedMail,\n  toggleListVisible\n) {\n  const renderSingleMail = (mail, key) => {\n    const onClick = () => {\n      selectMail(mail.id);\n      if (toggleListVisible) {\n        toggleListVisible();\n      }\n    };\n    const isSelected = selectedMail === mail.id;\n    const recpName = mail.name;\n    const signature = {\n      splitLet: recpName\n        .match(/\\b(\\w)/g)\n        .join('')\n        .split('', 2),\n    };\n    const activeClass = isSelected ? 'activeMail' : '';\n    const unreadClass = !mail.read ? 'unreadMail' : '';\n    const tagOption = mail.tags\n      ? tagColor[tags.findIndex(tags => tags === mail.tags)]\n      : 'transparent';\n    return (\n      <div\n        key={`list${key}`}\n        onClick={onClick}\n        className={`${activeClass} ${unreadClass} isoMailList`}\n      >\n        <span\n          className=\"isoLabelIndicator\"\n          style={\n            direction === 'rtl'\n              ? { borderRightColor: tagOption }\n              : { borderTopColor: tagOption }\n          }\n        />\n        <div className=\"isoRecipentsImg\">\n          {mail.img ? (\n            <img alt=\"#\" src={mail.img} />\n          ) : (\n            <span>{signature.splitLet}</span>\n          )}\n        </div>\n\n        <div className=\"isoMailInfo\">\n          <div className=\"infoHead\">\n            <p className=\"isoRecipents\">{mail.name}</p>\n            <span className=\"isoReceiveDate\">{timeDifference(mail.date)}</span>\n          </div>\n          <p className=\"isoSubject\">{mail.subject}</p>\n        </div>\n      </div>\n    );\n  };\n  return (\n    <MailListWrapper className=\"isoMailListWrapper\">\n      {mails.map((mail, index) => renderSingleMail(mail, index))}\n    </MailListWrapper>\n  );\n}\n","import styled from 'styled-components';\nimport { palette } from 'styled-theme';\nimport { borderRadius, transition } from '@iso/lib/helpers/style_utils';\n\nconst MailComposeBtnWrapper = styled.div`\n  width: 100%;\n  padding: 0px 30px;\n  height: 80px;\n  display: flex;\n  align-items: center;\n  flex-shrink: 0;\n  background-color: ${palette('grayscale', 6)};\n  border-bottom: 1px solid ${palette('border', 4)};\n\n  button {\n    font-size: 14px;\n    font-weight: 400;\n    color: #ffffff;\n    background-color: ${palette('primary', 0)};\n    width: 100%;\n    height: 40px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    text-align: center;\n    border: 0;\n    outline: 0;\n    cursor: pointer;\n    ${borderRadius('3px')};\n    ${transition()};\n\n    &:hover {\n      background-color: ${palette('primary', 1)};\n    }\n  }\n`;\n\nexport default MailComposeBtnWrapper;\n","import React from 'react';\nimport IntlMessages from '../utility/intlMessages';\nimport MailComposeBtnWrapper from './MailComposeBtn.style';\n\nexport default function(props) {\n  return (\n    <MailComposeBtnWrapper className=\"isoComposeBtnWrapper\">\n      <button\n        type=\"button\"\n        onClick={event => {\n          props.changeComposeMail(true);\n          if (props.onDrawerClose) {\n            props.onDrawerClose();\n          }\n        }}\n      >\n        <IntlMessages id=\"email.compose\" />\n      </button>\n    </MailComposeBtnWrapper>\n  );\n}\n","import styled from 'styled-components';\nimport { palette } from 'styled-theme';\nimport { transition } from '@iso/lib/helpers/style_utils';\nimport WithDirection from '@iso/lib/helpers/rtl';\nconst MailPagination = styled.div`\n  display: -webkit-flex;\n  display: -ms-flex;\n  display: flex;\n  align-items: center;\n\n  button {\n    font-size: 16px;\n    color: ${palette('secondary', 0)};\n    width: 35px;\n    height: 35px;\n    padding: 0;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background-color: #ffffff;\n    outline: 0;\n    border: 1px solid ${palette('border', 0)};\n    cursor: pointer;\n    ${transition()};\n\n    i {\n      font-size: 18px;\n      width: 100%;\n      height: 100%;\n      color: ${palette('secondary', 0)};\n      ${transition()};\n    }\n\n    &.nextPage {\n      margin: ${props =>\n        props['data-rtl'] === 'rtl' ? '0 -1px 0 0' : '0 0 0 -1px'};\n    }\n\n    &:hover {\n      color: ${palette('primary', 0)};\n      background-color: darken(#ffffff, 1%);\n\n      i {\n        color: ${palette('primary', 0)};\n      }\n    }\n  }\n`;\n\nexport default WithDirection(MailPagination);\n","import React from 'react';\nimport MailPagination from './MailPagination.style';\nimport { direction } from '@iso/lib/helpers/rtl';\n\nexport default function() {\n  return (\n    <MailPagination className=\"isoMailPagination\">\n      <button type=\"button\" className=\"prevPage\">\n        <i\n          className={\n            direction === 'rtl' ? 'ion-ios-arrow-forward' : 'ion-ios-arrow-back'\n          }\n        />\n      </button>\n\n      <button type=\"button\" className=\"nextPage\">\n        <i\n          className={\n            direction === 'rtl' ? 'ion-ios-arrow-back' : 'ion-ios-arrow-forward'\n          }\n        />\n      </button>\n    </MailPagination>\n  );\n}\n","import styled from 'styled-components';\nimport WithDirection from '@iso/lib/helpers/rtl';\n\nconst MailDrawer = styled.div`\n  > div > div {\n    background-color: #ffffff;\n  }\n`;\n\nexport default WithDirection(MailDrawer);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport ReactDrawer from 'react-motion-drawer';\nimport Scrollbars from '@iso/components/utility/customScrollBar';\nimport { InputSearch } from '@iso/components/uielements/input';\nimport mailList from '@iso/components/Mail/MailList';\nimport mailBuckets from '@iso/components/Mail/MailBuckets';\nimport mailTags from '@iso/components/Mail/MailTags';\nimport singleMail from '@iso/components/Mail/SingleMail';\nimport ComposeBtn from '@iso/components/Mail/MailComposeBtn';\nimport ComposeMail from '@iso/components/Mail/ComposeMail';\nimport mailActions from '@iso/redux/mail/actions';\nimport PaginationControl from '@iso/components/Mail/MailPagination';\nimport IntlMessages from '@iso/components/utility/intlMessages';\nimport mailSelector from '@iso/redux/mail/selector';\nimport MailDrawer from './MailDrawer.styles';\nimport MailBox from './Mail.styles';\n\nconst {\n  filterAction,\n  selectMail,\n  changeComposeMail,\n  changeReplyMail,\n  changeSearchString,\n} = mailActions;\n\nclass TabView extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      search: this.props.searchString,\n      open: false,\n    };\n    this.openDrawer = this.openDrawer.bind(this);\n    this.closeDrawer = this.closeDrawer.bind(this);\n    this.onDrawerClose = this.onDrawerClose.bind(this);\n  }\n  openDrawer() {\n    this.setState({ open: true });\n  }\n  closeDrawer() {\n    this.setState({ open: false });\n  }\n  onDrawerClose() {\n    this.setState({ open: false });\n  }\n  onDrawerChange = val => {\n    if (!val) {\n      this.setState({ open: false });\n    }\n  };\n  render() {\n    const {\n      allMails,\n      filterAttr,\n      filterMails,\n      selectedMail,\n      composeMail,\n      replyMail,\n      selectMail,\n      filterAction,\n      changeComposeMail,\n      changeReplyMail,\n      changeSearchString,\n    } = this.props;\n    const { search } = this.state;\n    let singleMailComponent = (\n      <p className=\"isoNoMailMsg\">\n        <IntlMessages id=\"email.noMessage\" />\n      </p>\n    );\n    const index = allMails.findIndex(mail => mail.id === selectedMail);\n    if (index !== -1) {\n      singleMailComponent = singleMail(\n        allMails,\n        filterMails,\n        index,\n        replyMail,\n        changeReplyMail,\n        selectMail\n      );\n    }\n    return (\n      <div style={{ height: '100%' }}>\n        <MailBox className=\"isomorphicMailBox\">\n          {composeMail ? (\n            ''\n          ) : (\n            <div className=\"isoMiddleWrapper\">\n              <div className=\"isoBucketLabel\">\n                <button className=\"isoBackCatBtn\" onClick={this.openDrawer}>\n                  <i className=\"ion-android-menu\" />\n                </button>\n                <h3>{filterAttr.bucket}</h3>\n                <PaginationControl />\n              </div>\n              <div className=\"isoSearchMailWrapper\">\n                <InputSearch\n                  placeholder=\"Search Email\"\n                  value={search}\n                  className=\"isoSearchEmail\"\n                  onChange={event =>\n                    this.setState({ search: event.target.value })\n                  }\n                  onSearch={value => changeSearchString(value)}\n                />\n              </div>\n              <Scrollbars style={{ height: this.props.height - 70 }}>\n                {mailList(filterMails, selectMail, selectedMail)}\n              </Scrollbars>\n            </div>\n          )}\n          <div className=\"isoSingleMailWrapper\">\n            <Scrollbars style={{ height: this.props.height - 70 }}>\n              {composeMail ? (\n                <ComposeMail\n                  allMails={allMails}\n                  changeComposeMail={changeComposeMail}\n                  tabView\n                />\n              ) : (\n                singleMailComponent\n              )}\n            </Scrollbars>\n          </div>\n        </MailBox>\n\n        <MailDrawer>\n          <ReactDrawer\n            open={this.state.open}\n            right={true}\n            onChange={this.onDrawerChange}\n          >\n            <i onClick={this.closeDrawer} className=\"icono-cross\" />\n            <div className=\"isoLeftWrapper\">\n              <ComposeBtn\n                changeComposeMail={changeComposeMail}\n                onDrawerClose={this.onDrawerClose}\n              />\n              <div className=\"isoMailOptions\">\n                <Scrollbars style={{ height: this.props.height - 70 }}>\n                  {mailBuckets(\n                    allMails,\n                    filterAction,\n                    filterAttr,\n                    this.onDrawerClose\n                  )}\n                  {mailTags(\n                    allMails,\n                    filterAction,\n                    filterAttr,\n                    this.onDrawerClose\n                  )}\n                </Scrollbars>\n              </div>\n            </div>\n          </ReactDrawer>\n        </MailDrawer>\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  const {\n    allMails,\n    tag,\n    selectedMail,\n    filterAttr,\n    composeMail,\n    replyMail,\n    searchString,\n  } = state.Mails;\n  return {\n    allMails,\n    tag,\n    selectedMail,\n    filterAttr,\n    composeMail,\n    replyMail,\n    searchString,\n    filterMails: mailSelector(state.Mails),\n  };\n}\nexport default connect(\n  mapStateToProps,\n  {\n    filterAction,\n    selectMail,\n    changeComposeMail,\n    changeReplyMail,\n    changeSearchString,\n  }\n)(TabView);\n","import { notification } from 'antd';\n\nconst createNotification = (type, message, description) => {\n  notification[type]({\n    message,\n    description,\n  });\n};\nexport default createNotification;\n","// turn {x: {val: 1, stiffness: 1, damping: 2}, y: 2} generated by\n// `{x: spring(1, {stiffness: 1, damping: 2}), y: 2}` into {x: 1, y: 2}\n'use strict';\n\nexports.__esModule = true;\nexports['default'] = stripStyle;\n\nfunction stripStyle(style) {\n  var ret = {};\n\n  for (var key in style) {\n    if (!Object.prototype.hasOwnProperty.call(style, key)) {\n      continue;\n    }\n\n    ret[key] = typeof style[key] === 'number' ? style[key] : style[key].val;\n  }\n\n  return ret;\n}\n\nmodule.exports = exports['default'];","import styled from 'styled-components';\nimport { palette } from 'styled-theme';\nimport { borderRadius, transition } from '@iso/lib/helpers/style_utils';\nimport WithDirection from '@iso/lib/helpers/rtl';\nconst MailTagsList = styled.ul`\n  padding: 30px 0;\n  text-align: ${props => (props['data-rtl'] === 'rtl' ? 'right' : 'left')};\n\n  .isoSectionLabel {\n    font-size: 16px;\n    font-weight: 500;\n    color: ${palette('secondary', 2)};\n    line-height: 1.1;\n    margin-bottom: 20px;\n    padding: 15px 30px;\n    background-color: ${palette('grayscale', 6)};\n  }\n\n  .isoMailTag {\n    width: 100%;\n    display: flex;\n    margin-bottom: 15px;\n    padding: 0 30px;\n    align-items: center;\n    cursor: pointer;\n\n    .isoLabelIndicatorColor {\n      width: 10px;\n      height: 10px;\n      display: flex;\n      margin: ${props =>\n        props['data-rtl'] === 'rtl' ? '0 5px 0 0' : '0 0 0 5px'};\n      ${borderRadius('50%')};\n    }\n\n    span {\n      font-size: 14px;\n      font-weight: 400;\n      color: ${palette('secondary', 2)};\n      cursor: pointer;\n      line-height: 1.1;\n      margin: ${props =>\n        props['data-rtl'] === 'rtl' ? '0 20px 0 0' : '0 0 0 20px'};\n      ${transition()};\n    }\n\n    &.active {\n      span {\n        font-weight: 500;\n        color: ${palette('primary', 0)};\n      }\n    }\n\n    &:hover {\n      span {\n        color: ${palette('primary', 0)};\n      }\n    }\n  }\n`;\n\nexport default WithDirection(MailTagsList);\n","import React from 'react';\nimport MailTagsList from './MailTags.style';\nconst tags = [\n  'Friend',\n  'Family',\n  'Colleague',\n  'Teachers',\n  'Students',\n  'ClassMates',\n];\nconst tagColor = [\n  '#CD3131',\n  '#74B49B',\n  '#0962EA',\n  '#141829',\n  '#FFCD38',\n  '#61105E',\n];\n\nfunction gettags(mails, filterAttr) {\n  const tags = {};\n  mails.forEach(mail => {\n    if (mail.tags && mail.bucket === filterAttr.bucket) {\n      mail.tags.split(' ').forEach(tag => (tags[tag] = 1));\n    }\n  });\n  return tags;\n}\n\nexport default function mailtags(\n  mails,\n  filterAction,\n  filterAttr,\n  onDrawerClose\n) {\n  const Tags = gettags(mails, filterAttr);\n  const renderSingleTag = (tag, key) => {\n    const onClick = () => {\n      filterAction({ tag });\n      if (onDrawerClose) {\n        onDrawerClose();\n      }\n    };\n    const selectedTag = tag === filterAttr.tag;\n    const activeClass = selectedTag ? 'active' : '';\n    const background = tagColor[tags.findIndex(tags => tags === tag)];\n    return (\n      <li\n        key={`tag${key}`}\n        onClick={onClick}\n        className={`isoMailTag ${activeClass}`}\n      >\n        <span className=\"isoLabelIndicatorColor\" style={{ background }} />\n        <span>{tag}</span>\n      </li>\n    );\n  };\n  return (\n    <MailTagsList className=\"isoMailTagList\">\n      <p className=\"isoSectionLabel\">Label</p>\n      {Object.keys(Tags).map((tag, index) => renderSingleTag(tag, index))}\n    </MailTagsList>\n  );\n}\nexport { tags, tagColor };\n","// currently used to initiate the velocity style object to 0\n'use strict';\n\nexports.__esModule = true;\nexports['default'] = mapToZero;\n\nfunction mapToZero(obj) {\n  var ret = {};\n\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n      ret[key] = 0;\n    }\n  }\n\n  return ret;\n}\n\nmodule.exports = exports['default'];","// stepper is used a lot. Saves allocation to return the same array wrapper.\n// This is fine and danger-free against mutations because the callsite\n// immediately destructures it and gets the numbers inside without passing the\n\"use strict\";\n\nexports.__esModule = true;\nexports[\"default\"] = stepper;\nvar reusedTuple = [0, 0];\n\nfunction stepper(secondPerFrame, x, v, destX, k, b, precision) {\n  // Spring stiffness, in kg / s^2\n  // for animations, destX is really spring length (spring at rest). initial\n  // position is considered as the stretched/compressed position of a spring\n  var Fspring = -k * (x - destX); // Damping, in kg / s\n\n  var Fdamper = -b * v; // usually we put mass here, but for animation purposes, specifying mass is a\n  // bit redundant. you could simply adjust k and b accordingly\n  // let a = (Fspring + Fdamper) / mass;\n\n  var a = Fspring + Fdamper;\n  var newV = v + a * secondPerFrame;\n  var newX = x + newV * secondPerFrame;\n\n  if (Math.abs(newV) < precision && Math.abs(newX - destX) < precision) {\n    reusedTuple[0] = destX;\n    reusedTuple[1] = 0;\n    return reusedTuple;\n  }\n\n  reusedTuple[0] = newX;\n  reusedTuple[1] = newV;\n  return reusedTuple;\n}\n\nmodule.exports = exports[\"default\"]; // array reference around.","// Generated by CoffeeScript 1.7.1\n(function () {\n  var getNanoSeconds, hrtime, loadTime;\n\n  if (typeof performance !== \"undefined\" && performance !== null && performance.now) {\n    module.exports = function () {\n      return performance.now();\n    };\n  } else if (typeof process !== \"undefined\" && process !== null && process.hrtime) {\n    module.exports = function () {\n      return (getNanoSeconds() - loadTime) / 1e6;\n    };\n\n    hrtime = process.hrtime;\n\n    getNanoSeconds = function getNanoSeconds() {\n      var hr;\n      hr = hrtime();\n      return hr[0] * 1e9 + hr[1];\n    };\n\n    loadTime = getNanoSeconds();\n  } else if (Date.now) {\n    module.exports = function () {\n      return Date.now() - loadTime;\n    };\n\n    loadTime = Date.now();\n  } else {\n    module.exports = function () {\n      return new Date().getTime() - loadTime;\n    };\n\n    loadTime = new Date().getTime();\n  }\n}).call(this);","// usage assumption: currentStyle values have already been rendered but it says\n// nothing of whether currentStyle is stale (see unreadPropStyle)\n'use strict';\n\nexports.__esModule = true;\nexports['default'] = shouldStopAnimation;\n\nfunction shouldStopAnimation(currentStyle, style, currentVelocity) {\n  for (var key in style) {\n    if (!Object.prototype.hasOwnProperty.call(style, key)) {\n      continue;\n    }\n\n    if (currentVelocity[key] !== 0) {\n      return false;\n    }\n\n    var styleValue = typeof style[key] === 'number' ? style[key] : style[key].val; // stepper will have already taken care of rounding precision errors, so\n    // won't have such thing as 0.9999 !=== 1\n\n    if (currentStyle[key] !== styleValue) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nmodule.exports = exports['default'];","\"use strict\";\n\nexports.__esModule = true;\nexports[\"default\"] = {\n  noWobble: {\n    stiffness: 170,\n    damping: 26\n  },\n  // the default, if nothing provided\n  gentle: {\n    stiffness: 120,\n    damping: 14\n  },\n  wobbly: {\n    stiffness: 180,\n    damping: 12\n  },\n  stiff: {\n    stiffness: 210,\n    damping: 20\n  }\n};\nmodule.exports = exports[\"default\"];","import styled from 'styled-components';\nimport { palette } from 'styled-theme';\nimport {\n  transition,\n  borderRadius,\n  boxShadow,\n} from '@iso/lib/helpers/style_utils';\n\nconst ComposeAutoCompleteStyleWrapper = styled.div`\n  .ReactTags__ {\n    &tags {\n      min-height: 36px;\n      width: 100%;\n      position: relative;\n      margin-bottom: 10px;\n      padding: 0 15px;\n      border: 1px solid ${palette('border', 0)};\n      ${borderRadius('3px')};\n    }\n\n    &selected {\n      width: 100%;\n      padding: 4px 0;\n    }\n\n    &tag {\n      font-size: 13px;\n      font-weight: 400;\n      line-height: 1;\n      color: ${palette('text', 0)};\n      display: inline-flex;\n      align-items: center;\n      padding: 0 7px 0 10px;\n      margin: 2px 5px 2px 0;\n      margin-right: ${props => (props['data-rtl'] === 'rtl' ? '0' : '5px')};\n      margin-left: ${props => (props['data-rtl'] === 'rtl' ? '5px' : '0')};\n      text-align: ${props => (props['data-rtl'] === 'rtl' ? 'right' : 'left')};\n      height: 22px;\n      word-break: break-word;\n      background-color: ${palette('grayscale', 10)};\n      border: 1px solid ${palette('border', 3)};\n      ${borderRadius('3px')};\n    }\n\n    &remove {\n      background: none;\n      background-color: transparent;\n      border: 0;\n      outline: 0;\n      color: ${palette('grayscale', 0)};\n      padding: 0;\n      margin-left: 8px;\n      margin-right: ${props => (props['data-rtl'] === 'rtl' ? '8px' : '0')};\n      margin-left: ${props => (props['data-rtl'] === 'rtl' ? '0' : '8px')};\n      line-height: 1;\n      font-size: 14px;\n      font-weight: bold;\n      cursor: pointer;\n      ${transition()};\n\n      &:hover {\n        color: ${palette('text', 3)};\n      }\n    }\n\n    &tagInput {\n      width: 100%;\n      display: inline;\n\n      &Field {\n        font-size: 14px;\n        font-weight: 400;\n        color: ${palette('text', 0)};\n        line-height: inherit;\n        text-align: ${props =>\n          props['data-rtl'] === 'rtl' ? 'right' : 'left'};\n        height: 22px;\n        min-width: 240px;\n        padding: 0;\n        border: 0;\n        outline: 0 !important;\n        overflow: hidden;\n        background-color: transparent;\n\n        &::-webkit-input-placeholder {\n          text-align: ${props =>\n            props['data-rtl'] === 'rtl' ? 'right' : 'left'};\n          color: ${palette('grayscale', 0)};\n        }\n\n        &:-moz-placeholder {\n          text-align: ${props =>\n            props['data-rtl'] === 'rtl' ? 'right' : 'left'};\n          color: ${palette('grayscale', 0)};\n        }\n\n        &::-moz-placeholder {\n          text-align: ${props =>\n            props['data-rtl'] === 'rtl' ? 'right' : 'left'};\n          color: ${palette('grayscale', 0)};\n        }\n        &:-ms-input-placeholder {\n          text-align: ${props =>\n            props['data-rtl'] === 'rtl' ? 'right' : 'left'};\n          color: ${palette('grayscale', 0)};\n        }\n      }\n    }\n\n    &suggestions {\n      z-index: 999;\n      display: -webkit-flex;\n      display: -ms-flex;\n      display: flex;\n      flex-direction: column;\n      background-color: #fff;\n      margin: 3px 0 0;\n      overflow: hidden;\n      word-break: break-word;\n      border: 1px solid rgba(0, 0, 0, 0.2);\n      text-align: ${props => (props['data-rtl'] === 'rtl' ? 'right' : 'left')};\n      position: absolute;\n      right: ${props => (props['data-rtl'] === 'rtl' ? '0' : 'auto')};\n      left: ${props => (props['data-rtl'] === 'rtl' ? 'auto' : '0')};\n      top: 100%;\n      ${borderRadius()};\n      ${boxShadow('0 2px 4px rgba(0,0,0,0.2)')};\n\n      li {\n        font-size: 14px;\n        font-weight: 400;\n        color: ${palette('text', 0)};\n        border-bottom: ${palette('border', 0)};\n        line-height: 1.5;\n        width: 100%;\n        padding: 10px 15px;\n        margin: 0;\n        cursor: pointer;\n        ${transition()};\n\n        &:hover {\n          background-color: ${palette('grayscale', 3)};\n        }\n\n        &:last-of-type {\n          border-bottom: 0;\n        }\n      }\n    }\n\n    &activeSuggestion {\n      background-color: ${palette('grayscale', 3)};\n    }\n  }\n`;\n\nexport default ComposeAutoCompleteStyleWrapper;\n","import React from 'react';\nimport { WithContext as ReactTags } from 'react-tag-input';\nimport AutoComplete from './ComposeAutoComplete.style';\n\nfunction createSuggestions(item) {\n  if (item && item.length > 0) {\n    return item.map(element => ({\n      id: `${element.id}`,\n      text: `${element.name}<${element.email}>`,\n    }));\n  }\n  return [];\n}\n\nconst KeyCodes = {\n  comma: 188,\n  enter: 13,\n};\n\nconst delimiters = [KeyCodes.comma, KeyCodes.enter];\n\nexport default class App extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      tags: [],\n      suggestions: createSuggestions(props.allMails) || [],\n    };\n    this.handleDelete = this.handleDelete.bind(this);\n    this.handleAddition = this.handleAddition.bind(this);\n    this.handleDrag = this.handleDrag.bind(this);\n  }\n  handleDelete(i) {\n    const { tags } = this.state;\n    this.setState({\n      tags: tags.filter((tag, index) => index !== i),\n    });\n  }\n\n  handleAddition(tag) {\n    this.setState(state => ({ tags: [...state.tags, tag] }));\n  }\n\n  handleDrag(tag, currPos, newPos) {\n    const tags = [...this.state.tags];\n    const newTags = tags.slice();\n\n    newTags.splice(currPos, 1);\n    newTags.splice(newPos, 0, tag);\n\n    // re-render\n    this.setState({ tags: newTags });\n  }\n\n  render() {\n    const { tags, suggestions } = this.state;\n    return (\n      <AutoComplete>\n        <ReactTags\n          tags={tags}\n          suggestions={suggestions}\n          handleDelete={this.handleDelete}\n          handleAddition={this.handleAddition}\n          handleDrag={this.handleDrag}\n          delimiters={delimiters}\n          placeholder={this.props.placeholder}\n          minQueryLength={1}\n          autofocus={this.props.autofocus || false}\n        />\n      </AutoComplete>\n    );\n  }\n}\n","import styled from 'styled-components';\nimport { palette } from 'styled-theme';\nimport {\n  transition,\n  borderRadius,\n  boxShadow,\n} from '@iso/lib/helpers/style_utils';\n\nconst ComposeForm = styled.div`\n  padding: 35px;\n  text-align: left;\n  height: 100%;\n  width: 100%;\n  overflow-y: auto;\n\n  .isoInputBox {\n    font-size: 14px;\n    font-weight: 400;\n    color: ${palette('text', 0)};\n    line-height: inherit;\n    height: 36px;\n    padding: 0 15px;\n    margin-bottom: 10px;\n    border: 1px solid ${palette('border', 0)};\n    outline: 0 !important;\n    overflow: hidden;\n    background-color: #ffffff;\n    ${borderRadius('3px')};\n    ${boxShadow()};\n    ${transition()};\n\n    &:focus,\n    &:hover {\n      border-color: ${palette('border', 0)};\n      box-shadow: none;\n    }\n\n    &::-webkit-input-placeholder {\n      color: ${palette('grayscale', 0)};\n    }\n\n    &:-moz-placeholder {\n      color: ${palette('grayscale', 0)};\n    }\n\n    &::-moz-placeholder {\n      color: ${palette('grayscale', 0)};\n    }\n    &:-ms-input-placeholder {\n      color: ${palette('grayscale', 0)};\n    }\n  }\n\n  .isoComposeMailBtnWrapper {\n    margin-top: 10px;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n\n    .isoSendMailBtn,\n    .isoCancelMailBtn {\n      height: 36px;\n      padding: 0 30px;\n      background-color: ${palette('primary', 0)};\n      border: 0;\n      ${transition()};\n\n      &:hover {\n        background-color: ${palette('primary', 1)};\n      }\n    }\n\n    .isoCancelMailBtn {\n      background-color: ${palette('error', 0)};\n\n      &:hover {\n        background-color: ${palette('error', 1)};\n      }\n    }\n  }\n`;\n\nexport default ComposeForm;\n","import React from 'react';\nimport Button from '../uielements/button';\nimport Input from '../uielements/input';\nimport ComposeAutoComplete from './ComposeAutoComplete';\nimport notification from '../Notification';\nimport IntlMessages from '../utility/intlMessages';\nimport ComposeForm from './ComposeMail.style';\nimport Editor from '../uielements/editor';\n\nfunction uploadCallback(file) {\n  return new Promise((resolve, reject) => {\n    const xhr = new XMLHttpRequest();\n    xhr.open('POST', 'https://api.imgur.com/3/image');\n    xhr.setRequestHeader('Authorization', 'Client-ID 8d26ccd12712fca');\n    const data = new FormData();\n    data.append('image', file);\n    xhr.send(data);\n    xhr.addEventListener('load', () => {\n      const response = JSON.parse(xhr.responseText);\n      resolve(response);\n    });\n    xhr.addEventListener('error', () => {\n      const error = JSON.parse(xhr.responseText);\n      reject(error);\n    });\n  });\n}\nexport default function ComposeMail(props) {\n  const [state, setState] = React.useState({\n    editorState: null,\n    loading: false,\n    iconLoading: false,\n  });\n  const onEditorStateChange = editorState => {\n    setState({ ...state, editorState });\n  };\n  const ComposeAutoCompleteTO = {\n    allMails: props.allMails,\n    updateData: () => {},\n    placeholder: 'To',\n    autofocus: true,\n  };\n  const ComposeAutoCompleteCC = {\n    allMails: props.allMails,\n    updateData: () => {},\n    placeholder: 'CC',\n  };\n  const editorOption = {\n    style: { width: '90%', height: '70%' },\n    editorState: state.editorState,\n    toolbarClassName: 'home-toolbar',\n    wrapperClassName: 'home-wrapper',\n    editorClassName: 'home-editor',\n    onEditorStateChange: onEditorStateChange,\n    uploadCallback: uploadCallback,\n    toolbar: { image: { uploadCallback: uploadCallback } },\n  };\n\n  return (\n    <ComposeForm className=\"isoComposeMailWrapper\">\n      <ComposeAutoComplete {...ComposeAutoCompleteTO} />\n      <ComposeAutoComplete {...ComposeAutoCompleteCC} />\n      <Input placeholder=\"Subject\" className=\"isoInputBox\" />\n      <Editor {...editorOption} />\n      <div className=\"isoComposeMailBtnWrapper\">\n        {props.mobileView || props.tabView ? (\n          <Button\n            type=\"primary\"\n            onClick={() => {\n              props.changeComposeMail(false);\n            }}\n            className=\"isoCancelMailBtn\"\n          >\n            <IntlMessages id=\"email.cancel\" />\n          </Button>\n        ) : (\n          ''\n        )}\n\n        <Button\n          type=\"primary\"\n          onClick={e => notification('success', `Mail has been sent`, '')}\n          className=\"isoSendMailBtn\"\n        >\n          <IntlMessages id=\"email.send\" />\n        </Button>\n      </div>\n    </ComposeForm>\n  );\n}\n","import styled from 'styled-components';\nimport { palette } from 'styled-theme';\nimport { transition } from '@iso/lib/helpers/style_utils';\nimport WithDirection from '@iso/lib/helpers/rtl';\n\nconst MailBucket = styled.ul`\n  padding: 35px 0 0;\n\n  .isoSingleBucket {\n    width: 100%;\n    display: flex;\n    padding: 0 30px;\n    margin-bottom: 15px;\n    align-items: center;\n    cursor: pointer;\n    justify-content: space-between;\n\n    span {\n      font-size: 14px;\n      font-weight: 400;\n      color: ${palette('secondary', 2)};\n      cursor: pointer;\n      text-transform: capitalize;\n      line-height: 1.1;\n      ${transition()};\n    }\n\n    .isoMailBadge {\n      font-size: 12px;\n      font-weight: 500;\n      color: ${palette('secondary', 2)};\n      line-height: normal;\n      margin: ${props =>\n        props['data-rtl'] === 'rtl' ? '0 auto 0 0' : '0 0 0 auto'};\n      display: -webkit-inline-flex;\n      display: -ms-inline-flex;\n      display: inline-flex;\n      align-items: center;\n      justify-content: center;\n      text-align: center;\n    }\n\n    &.active {\n      span:not(.isoMailBadge) {\n        font-weight: 500;\n        color: ${palette('primary', 0)};\n      }\n    }\n\n    span:not(.isoMailBadge) {\n      &:hover {\n        color: ${palette('primary', 0)};\n      }\n    }\n  }\n`;\n\nexport default WithDirection(MailBucket);\n","import React from 'react';\nimport MailBucket from './MailBucket.style';\n\nconst buckets = [\n  'Inbox',\n  'Sent',\n  'Drafts',\n  'Trash',\n  'Important',\n  'spam',\n  'Starred',\n];\n\nfunction getUnread(mails) {\n  const unread = {};\n  mails.forEach(mail => {\n    if (!unread[mail.bucket]) {\n      unread[mail.bucket] = 0;\n    }\n    if (!mail.read) {\n      unread[mail.bucket] += 1;\n    }\n  });\n  return unread;\n}\n\nexport default function mailbuckets(\n  mails,\n  filterAction,\n  filterAttr,\n  onDrawerClose\n) {\n  const unread = getUnread(mails);\n  const renderSinglebucket = (bucket, key) => {\n    const onClick = () => {\n      filterAction({ bucket });\n      if (onDrawerClose) {\n        onDrawerClose();\n      }\n    };\n    const selectedBucket = bucket === filterAttr.bucket;\n    const activeClass = selectedBucket ? 'active' : '';\n    return (\n      <li\n        key={`bucket${key}`}\n        onClick={onClick}\n        className={`isoSingleBucket ${activeClass}`}\n      >\n        <span>{bucket}</span>\n        <span className=\"isoMailBadge\">\n          {unread[bucket] ? unread[bucket] : ''}\n        </span>\n      </li>\n    );\n  };\n  return (\n    <MailBucket className=\"isoBucketList\">\n      {buckets.map((bucket, index) => renderSinglebucket(bucket, index))}\n    </MailBucket>\n  );\n}\nexport { buckets };\n","import styled from 'styled-components';\nimport { palette, font } from 'styled-theme';\nimport WithDirection from '@iso/lib/helpers/rtl';\nconst QuillEditor = styled.div`\n  .ql-editor {\n    min-height: 215px;\n    text-align: ${props => (props['data-rtl'] === 'rtl' ? 'right' : 'left')};\n  }\n\n  .ql-toolbar.ql-snow,\n  .ql-container.ql-snow {\n    border: 1px solid ${palette('border', 0)};\n    text-align: ${props => (props['data-rtl'] === 'rtl' ? 'right' : 'left')};\n\n    .ql-formats {\n      margin: ${props =>\n        props['data-rtl'] === 'rtl' ? '0 0 0 15px' : '0 15px 0 0'};\n    }\n\n    .ql-picker-label {\n      padding: ${props =>\n        props['data-rtl'] === 'rtl' ? '0 8px 0 2px' : '0 2px 0 8px'};\n\n      &:not(.ql-color-picker):not(.ql-icon-picker) {\n        svg {\n          right: ${props => (props['data-rtl'] === 'rtl' ? 'inherit' : '0')};\n          left: ${props => (props['data-rtl'] === 'rtl' ? '0' : 'inherit')};\n        }\n      }\n    }\n  }\n\n  .ql-container {\n    font-family: ${font('primary', 0)};\n    min-height: 220px;\n  }\n\n  .ql-editor p,\n  .ql-editor ol,\n  .ql-editor ul,\n  .ql-editor pre,\n  .ql-editor blockquote,\n  .ql-editor h1,\n  .ql-editor h2,\n  .ql-editor h3,\n  .ql-editor h4,\n  .ql-editor h5,\n  .ql-editor h6 {\n    color: ${palette('text', 0)};\n  }\n\n  .ql-snow.ql-toolbar button:hover,\n  .ql-snow .ql-toolbar button:hover,\n  .ql-snow.ql-toolbar button:focus,\n  .ql-snow .ql-toolbar button:focus,\n  .ql-snow.ql-toolbar button.ql-active,\n  .ql-snow .ql-toolbar button.ql-active,\n  .ql-snow.ql-toolbar .ql-picker-label:hover,\n  .ql-snow .ql-toolbar .ql-picker-label:hover,\n  .ql-snow.ql-toolbar .ql-picker-label.ql-active,\n  .ql-snow .ql-toolbar .ql-picker-label.ql-active,\n  .ql-snow.ql-toolbar .ql-picker-item:hover,\n  .ql-snow .ql-toolbar .ql-picker-item:hover,\n  .ql-snow.ql-toolbar .ql-picker-item.ql-selected,\n  .ql-snow .ql-toolbar .ql-picker-item.ql-selected {\n    color: ${palette('primary', 0)};\n  }\n  .ql-snow.ql-toolbar button:hover .ql-fill,\n  .ql-snow .ql-toolbar button:hover .ql-fill,\n  .ql-snow.ql-toolbar button:focus .ql-fill,\n  .ql-snow .ql-toolbar button:focus .ql-fill,\n  .ql-snow.ql-toolbar button.ql-active .ql-fill,\n  .ql-snow .ql-toolbar button.ql-active .ql-fill,\n  .ql-snow.ql-toolbar .ql-picker-label:hover .ql-fill,\n  .ql-snow .ql-toolbar .ql-picker-label:hover .ql-fill,\n  .ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-fill,\n  .ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-fill,\n  .ql-snow.ql-toolbar .ql-picker-item:hover .ql-fill,\n  .ql-snow .ql-toolbar .ql-picker-item:hover .ql-fill,\n  .ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-fill,\n  .ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-fill,\n  .ql-snow.ql-toolbar button:hover .ql-stroke.ql-fill,\n  .ql-snow .ql-toolbar button:hover .ql-stroke.ql-fill,\n  .ql-snow.ql-toolbar button:focus .ql-stroke.ql-fill,\n  .ql-snow .ql-toolbar button:focus .ql-stroke.ql-fill,\n  .ql-snow.ql-toolbar button.ql-active .ql-stroke.ql-fill,\n  .ql-snow .ql-toolbar button.ql-active .ql-stroke.ql-fill,\n  .ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke.ql-fill,\n  .ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke.ql-fill,\n  .ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke.ql-fill,\n  .ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke.ql-fill,\n  .ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke.ql-fill,\n  .ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke.ql-fill,\n  .ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke.ql-fill,\n  .ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke.ql-fill {\n    fill: ${palette('primary', 0)};\n  }\n  .ql-snow.ql-toolbar button:hover .ql-stroke,\n  .ql-snow .ql-toolbar button:hover .ql-stroke,\n  .ql-snow.ql-toolbar button:focus .ql-stroke,\n  .ql-snow .ql-toolbar button:focus .ql-stroke,\n  .ql-snow.ql-toolbar button.ql-active .ql-stroke,\n  .ql-snow .ql-toolbar button.ql-active .ql-stroke,\n  .ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke,\n  .ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke,\n  .ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke,\n  .ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke,\n  .ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke,\n  .ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke,\n  .ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke,\n  .ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke,\n  .ql-snow.ql-toolbar button:hover .ql-stroke-miter,\n  .ql-snow .ql-toolbar button:hover .ql-stroke-miter,\n  .ql-snow.ql-toolbar button:focus .ql-stroke-miter,\n  .ql-snow .ql-toolbar button:focus .ql-stroke-miter,\n  .ql-snow.ql-toolbar button.ql-active .ql-stroke-miter,\n  .ql-snow .ql-toolbar button.ql-active .ql-stroke-miter,\n  .ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke-miter,\n  .ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke-miter,\n  .ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke-miter,\n  .ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke-miter,\n  .ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke-miter,\n  .ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke-miter,\n  .ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke-miter,\n  .ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke-miter {\n    stroke: ${palette('primary', 0)};\n  }\n\n  .ql-snow a {\n    color: ${palette('primary', 0)};\n  }\n`;\n\nexport default WithDirection(QuillEditor);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ReactQuill from 'react-quill';\nimport 'react-quill/dist/quill.snow.css';\nimport 'react-quill/dist/quill.bubble.css';\nimport 'react-quill/dist/quill.core.css';\nimport EditorWrapper from './styles/editor.style';\nclass Editor extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { editorHtml: '', theme: 'snow' };\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  handleChange(html) {\n    this.setState({ editorHtml: html });\n  }\n\n  handleThemeChange(newTheme) {\n    if (newTheme === 'core') newTheme = null;\n    this.setState({ theme: newTheme });\n  }\n\n  render() {\n    return (\n      <EditorWrapper>\n        <ReactQuill\n          theme={this.state.theme}\n          onChange={this.handleChange}\n          value={this.state.editorHtml}\n          modules={Editor.modules}\n          formats={Editor.formats}\n          bounds={'.app'}\n          placeholder={this.props.placeholder}\n        />\n        {/* <div className=\"themeSwitcher\">\n          <label>Theme </label>\n          <select onChange={e => this.handleThemeChange(e.target.value)}>\n            <option value=\"snow\">Snow</option>\n            <option value=\"bubble\">Bubble</option>\n            <option value=\"core\">Core</option>\n          </select>\n        </div> */}\n      </EditorWrapper>\n    );\n  }\n}\n\n/*\n * Quill modules to attach to editor\n * See https://quilljs.com/docs/modules/ for complete options\n */\nEditor.modules = {\n  toolbar: [\n    [{ header: '1' }, { header: '2' }, { font: [] }],\n    [{ size: [] }],\n    ['bold', 'italic', 'underline', 'strike', 'blockquote'],\n    [\n      { list: 'ordered' },\n      { list: 'bullet' },\n      { indent: '-1' },\n      { indent: '+1' },\n    ],\n    ['link', 'image', 'video'],\n    ['clean'],\n  ],\n  clipboard: {\n    // toggle to add extra line breaks when pasting HTML:\n    matchVisual: false,\n  },\n};\n/*\n * Quill editor formats\n * See https://quilljs.com/docs/formats/\n */\nEditor.formats = [\n  'header',\n  'font',\n  'size',\n  'bold',\n  'italic',\n  'underline',\n  'strike',\n  'blockquote',\n  'list',\n  'bullet',\n  'indent',\n  'link',\n  'image',\n  'video',\n];\n\n/*\n * PropType validation\n */\nEditor.propTypes = {\n  placeholder: PropTypes.string,\n};\n\nexport default Editor;\n"],"sourceRoot":""}